import{a as ft}from"./chunk-AJAUIGFO.js";import{a as st,b as ct,e as dt,h as _t}from"./chunk-NX6VWMXW.js";import{a as rt}from"./chunk-VWKT4AXU.js";import{a as ut,b as pt,c as ht,d as bt,e as Ct}from"./chunk-OI2BH5VR.js";import{a as mt}from"./chunk-E6U5HHN4.js";import{e as ot,g as lt}from"./chunk-IFTFUA44.js";import"./chunk-Y2DN57ZN.js";import{A as H,Bb as m,C as G,Db as S,Fb as et,Gb as it,H as Y,Hb as nt,I as F,J as U,Ja as l,Kb as Q,Nb as N,S as P,Va as W,X as u,Y as p,Z as T,_ as E,_b as at,db as d,eb as _,f as R,fb as I,gb as x,hb as y,ia as g,ib as v,j as M,jb as o,kb as r,lb as C,pb as f,rb as b,tb as c,vb as J,wb as X,xb as Z,y as z,zb as tt}from"./chunk-AT7XICDW.js";var xt=["searchInput"],yt=()=>[1,2,3,4],vt=()=>[1,2,3],St=(i,e)=>e.value,w=(i,e)=>e.id;function wt(i,e){if(i&1){let t=f();o(0,"button",17),b("click",function(){u(t);let a=c();return p(a.clearSearch())}),T(),o(1,"svg",6),C(2,"path",7),r()()}}function kt(i,e){if(i&1&&(o(0,"span",20),m(1),r()),i&2){let t=c().$implicit,n=c(2);l(),S("(",n.getTabCount(t.value),")")}}function Tt(i,e){if(i&1){let t=f();o(0,"button",19),b("click",function(){let a=u(t).$implicit,s=c(2);return p(s.currentTab.set(a.value))}),m(1),d(2,kt,2,1,"span",20),r()}if(i&2){let t=e.$implicit,n=c(2);tt("bg-accent-qobuz",n.currentTab()===t.value)("text-white",n.currentTab()===t.value)("border-accent-qobuz",n.currentTab()===t.value)("bg-transparent",n.currentTab()!==t.value)("text-text-secondary",n.currentTab()!==t.value)("border-border-subtle",n.currentTab()!==t.value)("hover:border-border-accent",n.currentTab()!==t.value),l(),S(" ",t.label," "),l(),_(n.getTabCount(t.value)>0?2:-1)}}function Mt(i,e){if(i&1&&(o(0,"div",13),x(1,Tt,3,16,"button",18,St),r()),i&2){let t=c();l(),y(t.tabs)}}function Pt(i,e){if(i&1){let t=f();o(0,"button",32),b("click",function(){let a=u(t).$implicit,s=c(3);return p(s.searchFor(a))}),T(),o(1,"svg",33),C(2,"path",34),r(),m(3),r()}if(i&2){let t=e.$implicit;l(3),S(" ",t," ")}}function Et(i,e){if(i&1){let t=f();o(0,"section",21)(1,"div",27)(2,"h2",28),m(3,"Letzte Suchen"),r(),o(4,"button",29),b("click",function(){u(t);let a=c(2);return p(a.clearRecentSearches())}),m(5," L\xF6schen "),r()(),o(6,"div",30),x(7,Pt,4,1,"button",31,I),r()()}if(i&2){let t=c(2);l(7),y(t.recentSearches())}}function Vt(i,e){if(i&1&&(d(0,Et,9,0,"section",21),o(1,"div",22),T(),o(2,"svg",23),C(3,"path",24),r(),E(),o(4,"p",25),m(5,"Suche nach Musik"),r(),o(6,"p",26),m(7,"Finde K\xFCnstler, Alben, Titel und Playlists"),r()()),i&2){let t=c();_(t.recentSearches().length>0?0:-1)}}function At(i,e){i&1&&(o(0,"div",37),C(1,"div",41),o(2,"div",42),C(3,"div",43)(4,"div",44),r()())}function zt(i,e){i&1&&(o(0,"div",40),C(1,"div",45),o(2,"div",46),C(3,"div",47)(4,"div",48),r()())}function Ft(i,e){i&1&&(o(0,"div",15)(1,"section"),C(2,"div",35),o(3,"div",36),x(4,At,5,0,"div",37,I),r()(),o(6,"section"),C(7,"div",38),o(8,"div",39),x(9,zt,5,0,"div",40,I),r()()()),i&2&&(l(4),y(Q(0,yt)),l(5),y(Q(1,vt)))}function It(i,e){if(i&1&&(o(0,"div",16),T(),o(1,"svg",49),C(2,"path",50),r(),E(),o(3,"p",25),m(4,"Keine Ergebnisse"),r(),o(5,"p",26),m(6),r()()),i&2){let t=c();l(6),S('Keine Ergebnisse f\xFCr "',t.query,'"')}}function Rt(i,e){if(i&1){let t=f();o(0,"button",54),b("click",function(){u(t);let a=c(4);return p(a.currentTab.set("albums"))}),m(1),r()}if(i&2){let t=c(4);l(),S(" Alle anzeigen (",t.albumsPagination().total,") ")}}function Qt(i,e){if(i&1){let t=f();o(0,"app-album-card",55),b("play",function(){let a=u(t).$implicit,s=c(4);return p(s.playAlbum(a))}),r()}if(i&2){let t=e.$implicit;v("album",t)}}function Nt(i,e){if(i&1&&(o(0,"section",21)(1,"div",27)(2,"h2",28),m(3,"Alben"),r(),d(4,Rt,2,1,"button",52),r(),o(5,"div",36),x(6,Qt,1,1,"app-album-card",53,w),r()()),i&2){let t=c(3);l(4),_(t.albumsPagination().total>4?4:-1),l(2),y(t.albums().slice(0,4))}}function $t(i,e){if(i&1){let t=f();o(0,"button",54),b("click",function(){u(t);let a=c(4);return p(a.currentTab.set("artists"))}),m(1),r()}if(i&2){let t=c(4);l(),S(" Alle anzeigen (",t.artistsPagination().total,") ")}}function Dt(i,e){if(i&1&&C(0,"app-artist-card",56),i&2){let t=e.$implicit;v("artist",t)}}function qt(i,e){if(i&1&&(o(0,"section",21)(1,"div",27)(2,"h2",28),m(3,"K\xFCnstler"),r(),d(4,$t,2,1,"button",52),r(),o(5,"div",36),x(6,Dt,1,1,"app-artist-card",56,w),r()()),i&2){let t=c(3);l(4),_(t.artistsPagination().total>4?4:-1),l(2),y(t.artists().slice(0,4))}}function Ot(i,e){if(i&1){let t=f();o(0,"button",54),b("click",function(){u(t);let a=c(4);return p(a.currentTab.set("tracks"))}),m(1),r()}if(i&2){let t=c(4);l(),S(" Alle anzeigen (",t.tracksPagination().total,") ")}}function Lt(i,e){if(i&1){let t=f();o(0,"app-track-item",59),b("play",function(){let a=u(t).$implicit,s=c(4);return p(s.playTrack(a))})("menu",function(a){u(t);let s=c(4);return p(s.openTrackMenu(a))}),r()}if(i&2){let t=e.$implicit,n=e.$index,a=c(4);v("track",t)("trackNumber",n+1)("showNumber",!1)("showArt",!0)("showArtist",!0)("showAlbum",!0)("showQuality",a.isTrackHiRes(t))("showMenu",!0)("isPlaying",a.isTrackPlaying(t))}}function jt(i,e){if(i&1&&(o(0,"section",21)(1,"div",27)(2,"h2",28),m(3,"Titel"),r(),d(4,Ot,2,1,"button",52),r(),o(5,"div",57),x(6,Lt,1,9,"app-track-item",58,w),r()()),i&2){let t=c(3);l(4),_(t.tracksPagination().total>5?4:-1),l(2),y(t.tracks().slice(0,5))}}function Bt(i,e){if(i&1){let t=f();o(0,"button",54),b("click",function(){u(t);let a=c(4);return p(a.currentTab.set("playlists"))}),m(1),r()}if(i&2){let t=c(4);l(),S(" Alle anzeigen (",t.playlistsPagination().total,") ")}}function Kt(i,e){if(i&1){let t=f();o(0,"app-playlist-card",61),b("play",function(){let a=u(t).$implicit,s=c(4);return p(s.playPlaylist(a))}),r()}if(i&2){let t=e.$implicit;v("playlist",t)}}function Ht(i,e){if(i&1&&(o(0,"section",21)(1,"div",27)(2,"h2",28),m(3,"Playlists"),r(),d(4,Bt,2,1,"button",52),r(),o(5,"div",36),x(6,Kt,1,1,"app-playlist-card",60,w),r()()),i&2){let t=c(3);l(4),_(t.playlistsPagination().total>4?4:-1),l(2),y(t.playlists().slice(0,4))}}function Gt(i,e){if(i&1&&(d(0,Nt,8,1,"section",21),d(1,qt,8,1,"section",21),d(2,jt,8,1,"section",21),d(3,Ht,8,1,"section",21)),i&2){let t=c(2);_(t.albums().length>0?0:-1),l(),_(t.artists().length>0?1:-1),l(),_(t.tracks().length>0?2:-1),l(),_(t.playlists().length>0?3:-1)}}function Yt(i,e){if(i&1){let t=f();o(0,"app-album-card",65),b("play",function(){let a=u(t).$implicit,s=c(3);return p(s.playAlbum(a))}),r()}if(i&2){let t=e.$implicit;v("album",t)("showYear",!0)}}function Ut(i,e){i&1&&(o(0,"div",64),m(1,"Keine Alben gefunden"),r())}function Wt(i,e){if(i&1&&(o(0,"div",62),x(1,Yt,1,2,"app-album-card",63,w),r(),d(3,Ut,2,0,"div",64)),i&2){let t=c(2);l(),y(t.albums()),l(2),_(t.albums().length===0?3:-1)}}function Jt(i,e){if(i&1&&C(0,"app-artist-card",56),i&2){let t=e.$implicit;v("artist",t)}}function Xt(i,e){i&1&&(o(0,"div",64),m(1,"Keine K\xFCnstler gefunden"),r())}function Zt(i,e){if(i&1&&(o(0,"div",62),x(1,Jt,1,1,"app-artist-card",56,w),r(),d(3,Xt,2,0,"div",64)),i&2){let t=c(2);l(),y(t.artists()),l(2),_(t.artists().length===0?3:-1)}}function te(i,e){if(i&1){let t=f();o(0,"app-track-item",59),b("play",function(){let a=u(t).$implicit,s=c(3);return p(s.playTrack(a))})("menu",function(a){u(t);let s=c(3);return p(s.openTrackMenu(a))}),r()}if(i&2){let t=e.$implicit,n=e.$index,a=c(3);v("track",t)("trackNumber",n+1)("showNumber",!0)("showArt",!0)("showArtist",!0)("showAlbum",!0)("showQuality",a.isTrackHiRes(t))("showMenu",!0)("isPlaying",a.isTrackPlaying(t))}}function ee(i,e){i&1&&(o(0,"div",64),m(1,"Keine Titel gefunden"),r())}function ie(i,e){if(i&1&&(o(0,"div",57),x(1,te,1,9,"app-track-item",58,w),r(),d(3,ee,2,0,"div",64)),i&2){let t=c(2);l(),y(t.tracks()),l(2),_(t.tracks().length===0?3:-1)}}function ne(i,e){if(i&1){let t=f();o(0,"app-playlist-card",67),b("play",function(){let a=u(t).$implicit,s=c(3);return p(s.playPlaylist(a))}),r()}if(i&2){let t=e.$implicit;v("playlist",t)("showOwner",!0)}}function ae(i,e){i&1&&(o(0,"div",64),m(1,"Keine Playlists gefunden"),r())}function oe(i,e){if(i&1&&(o(0,"div",62),x(1,ne,1,2,"app-playlist-card",66,w),r(),d(3,ae,2,0,"div",64)),i&2){let t=c(2);l(),y(t.playlists()),l(2),_(t.playlists().length===0?3:-1)}}function re(i,e){i&1&&(o(0,"div",51),C(1,"div",68),o(2,"span"),m(3,"Lade mehr..."),r()())}function le(i,e){if(i&1&&(d(0,Gt,4,4),d(1,Wt,4,1),d(2,Zt,4,1),d(3,ie,4,1),d(4,oe,4,1),d(5,re,4,0,"div",51)),i&2){let t=c();_(t.currentTab()==="all"?0:-1),l(),_(t.currentTab()==="albums"?1:-1),l(),_(t.currentTab()==="artists"?2:-1),l(),_(t.currentTab()==="tracks"?3:-1),l(),_(t.currentTab()==="playlists"?4:-1),l(),_(t.loadingMore()?5:-1)}}var se=[{value:"all",label:"Alle"},{value:"albums",label:"Alben"},{value:"artists",label:"K\xFCnstler"},{value:"tracks",label:"Titel"},{value:"playlists",label:"Playlists"}],$="qobuz_recent_searches",ce=8,D=20,gt=class i{searchInputEl;qobuzApi=P(lt);playerState=P(rt);contextMenu=P(ut);ratingService=P(mt);searchSubject=new R;destroy$=new R;query="";currentQuery="";loading=g(!1);loadingMore=g(!1);currentTab=g("all");recentSearches=g([]);albums=g([]);artists=g([]);tracks=g([]);playlists=g([]);albumsPagination=g({offset:0,total:0,hasMore:!1});artistsPagination=g({offset:0,total:0,hasMore:!1});tracksPagination=g({offset:0,total:0,hasMore:!1});playlistsPagination=g({offset:0,total:0,hasMore:!1});tabs=se;hasResults=N(()=>this.albums().length>0||this.artists().length>0||this.tracks().length>0||this.playlists().length>0);canLoadMore=N(()=>{if(this.loading()||this.loadingMore())return!1;let e=this.currentTab();if(e==="all")return this.albumsPagination().hasMore||this.artistsPagination().hasMore||this.tracksPagination().hasMore||this.playlistsPagination().hasMore;switch(e){case"albums":return this.albumsPagination().hasMore;case"artists":return this.artistsPagination().hasMore;case"tracks":return this.tracksPagination().hasMore;case"playlists":return this.playlistsPagination().hasMore;default:return!1}});ngOnInit(){this.loadRecentSearches(),this.searchSubject.pipe(F(this.destroy$),H(300),G(),U(e=>{e.trim()&&(this.loading.set(!0),this.currentQuery=e,this.resetAllPagination(),this.addToRecentSearches(e))}),Y(e=>e.trim()?this.qobuzApi.search(e,D,0).pipe(z(()=>M(null))):M(null))).subscribe(e=>{e&&this.processSearchResponse(e,!1),this.loading.set(!1),e&&this.currentTab.set("all")})}ngAfterViewInit(){setTimeout(()=>{this.searchInputEl?.nativeElement.focus()},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(e){e.trim()?this.searchSubject.next(e):(this.resetAllPagination(),this.loading.set(!1))}searchFor(e){this.query=e,this.searchSubject.next(e)}clearSearch(){this.query="",this.currentQuery="",this.resetAllPagination(),this.loading.set(!1),this.searchInputEl?.nativeElement.focus()}resetAllPagination(){this.albums.set([]),this.artists.set([]),this.tracks.set([]),this.playlists.set([]),this.albumsPagination.set({offset:0,total:0,hasMore:!1}),this.artistsPagination.set({offset:0,total:0,hasMore:!1}),this.tracksPagination.set({offset:0,total:0,hasMore:!1}),this.playlistsPagination.set({offset:0,total:0,hasMore:!1})}processSearchResponse(e,t){let n=e.albums?.items??[],a=e.albums?.total??0,s=e.albums?.offset??0;t?this.albums.update(k=>[...k,...n]):this.albums.set(n),this.albumsPagination.set({offset:s+n.length,total:a,hasMore:s+n.length<a}),this.fetchRatingsForAlbums(n);let h=e.artists?.items??[],q=e.artists?.total??0,O=e.artists?.offset??0;t?this.artists.update(k=>[...k,...h]):this.artists.set(h),this.artistsPagination.set({offset:O+h.length,total:q,hasMore:O+h.length<q});let V=e.tracks?.items??[],L=e.tracks?.total??0,j=e.tracks?.offset??0;t?this.tracks.update(k=>[...k,...V]):this.tracks.set(V),this.tracksPagination.set({offset:j+V.length,total:L,hasMore:j+V.length<L});let A=e.playlists?.items??[],B=e.playlists?.total??0,K=e.playlists?.offset??0;t?this.playlists.update(k=>[...k,...A]):this.playlists.set(A),this.playlistsPagination.set({offset:K+A.length,total:B,hasMore:K+A.length<B})}loadMore(){if(!this.canLoadMore()||!this.currentQuery)return;let e=this.currentTab();if(this.loadingMore.set(!0),e==="all"){let n=0;this.albumsPagination().hasMore?n=this.albumsPagination().offset:this.artistsPagination().hasMore?n=this.artistsPagination().offset:this.tracksPagination().hasMore?n=this.tracksPagination().offset:this.playlistsPagination().hasMore&&(n=this.playlistsPagination().offset),this.qobuzApi.search(this.currentQuery,D,n).pipe(F(this.destroy$),z(()=>M(null))).subscribe(a=>{a&&this.processSearchResponse(a,!0),this.loadingMore.set(!1)});return}let t=0;switch(e){case"albums":t=this.albumsPagination().offset;break;case"artists":t=this.artistsPagination().offset;break;case"tracks":t=this.tracksPagination().offset;break;case"playlists":t=this.playlistsPagination().offset;break;default:this.loadingMore.set(!1);return}this.qobuzApi.search(this.currentQuery,D,t).pipe(F(this.destroy$),z(()=>M(null))).subscribe(n=>{n&&this.processTabResponse(e,n),this.loadingMore.set(!1)})}processTabResponse(e,t){switch(e){case"albums":{let n=t.albums?.items??[],a=t.albums?.total??0,s=t.albums?.offset??0;this.albums.update(h=>[...h,...n]),this.albumsPagination.set({offset:s+n.length,total:a,hasMore:s+n.length<a});break}case"artists":{let n=t.artists?.items??[],a=t.artists?.total??0,s=t.artists?.offset??0;this.artists.update(h=>[...h,...n]),this.artistsPagination.set({offset:s+n.length,total:a,hasMore:s+n.length<a});break}case"tracks":{let n=t.tracks?.items??[],a=t.tracks?.total??0,s=t.tracks?.offset??0;this.tracks.update(h=>[...h,...n]),this.tracksPagination.set({offset:s+n.length,total:a,hasMore:s+n.length<a});break}case"playlists":{let n=t.playlists?.items??[],a=t.playlists?.total??0,s=t.playlists?.offset??0;this.playlists.update(h=>[...h,...n]),this.playlistsPagination.set({offset:s+n.length,total:a,hasMore:s+n.length<a});break}}}goBack(){window.history.back()}getTabCount(e){switch(e){case"all":return 0;case"albums":return this.albumsPagination().total;case"artists":return this.artistsPagination().total;case"tracks":return this.tracksPagination().total;case"playlists":return this.playlistsPagination().total}}loadRecentSearches(){try{let e=localStorage.getItem($);e&&this.recentSearches.set(JSON.parse(e))}catch{}}addToRecentSearches(e){let t=e.trim();if(!t)return;let a=this.recentSearches().filter(h=>h.toLowerCase()!==t.toLowerCase()),s=[t,...a].slice(0,ce);this.recentSearches.set(s);try{localStorage.setItem($,JSON.stringify(s))}catch{}}clearRecentSearches(){this.recentSearches.set([]);try{localStorage.removeItem($)}catch{}}isTrackHiRes(e){return e.hires_streamable||e.hires||e.maximum_bit_depth!==void 0&&e.maximum_bit_depth>16}isTrackPlaying(e){let t=this.playerState.currentPlayingTrackId(),n=this.playerState.currentTrack();return(t===e.id||n?.id===e.id)&&this.playerState.isPlaying()}playTrack(e){this.playerState.currentTrack.set(e),console.log("Playing track:",e.title)}playAlbum(e){console.log("Playing album:",e.title)}playPlaylist(e){console.log("Playing playlist:",e.name)}openTrackMenu(e){this.contextMenu.openTrackMenu(e.event,e.track,{onPlay:()=>this.playTrack(e.track),onAddToQueue:()=>console.log("Add to queue:",e.track.title)})}fetchRatingsForAlbums(e){if(!e||e.length===0)return;let t=e.filter(n=>n.id&&n.title).map(n=>({albumId:n.id.toString(),artist:n.artist?.name??"",title:n.title}));t.length>0&&this.ratingService.fetchRatings(t)}formatDuration=ot;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=W({type:i,selectors:[["app-search"]],viewQuery:function(t,n){if(t&1&&J(xt,5),t&2){let a;X(a=Z())&&(n.searchInputEl=a.first)}},decls:19,vars:9,consts:[["searchInput",""],[1,"search-page","bg-bg-primary","min-h-screen","pb-28"],[1,"sticky","top-0","z-10","bg-bg-primary/95","backdrop-blur-sm","border-b","border-border-subtle","safe-area-top"],[1,"p-4","pl-16"],[1,"flex","items-center","gap-3","mb-4"],["title","Suche schlie\xDFen",1,"flex-shrink-0","w-8","h-8","rounded-full","bg-bg-card","border","border-border-subtle","flex","items-center","justify-center","text-text-secondary","hover:text-text-primary","hover:bg-bg-card-hover","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex-1","relative"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"absolute","left-3","top-1/2","-translate-y-1/2","w-5","h-5","text-text-muted","pointer-events-none"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","K\xFCnstler, Alben, Titel...",1,"w-full","py-2.5","pl-10","pr-10","bg-bg-card","border","border-border-subtle","rounded-lg","text-text-primary","placeholder:text-text-muted","focus:outline-none","focus:border-accent-qobuz","transition-colors",3,"ngModelChange","keydown.escape","ngModel"],[1,"absolute","right-3","top-1/2","-translate-y-1/2","text-text-muted","hover:text-text-primary","transition-colors"],[1,"flex","gap-2","overflow-x-auto","scrollbar-hide","-mx-4","px-4"],["appInfiniteScroll","",1,"p-4",3,"scrolled","scrollThreshold","scrollDisabled"],[1,"space-y-6"],[1,"text-center","py-16","text-text-muted"],[1,"absolute","right-3","top-1/2","-translate-y-1/2","text-text-muted","hover:text-text-primary","transition-colors",3,"click"],[1,"flex-shrink-0","px-4","py-2","text-sm","rounded-full","border","transition-colors","whitespace-nowrap",3,"bg-accent-qobuz","text-white","border-accent-qobuz","bg-transparent","text-text-secondary","border-border-subtle","hover:border-border-accent"],[1,"flex-shrink-0","px-4","py-2","text-sm","rounded-full","border","transition-colors","whitespace-nowrap",3,"click"],[1,"ml-1","opacity-70"],[1,"mb-8"],[1,"text-center","py-12","text-text-muted"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-16","h-16","mx-auto","mb-4","opacity-30"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"text-lg","mb-2"],[1,"text-sm"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold"],[1,"text-sm","text-text-muted","hover:text-accent-qobuz","transition-colors",3,"click"],[1,"flex","flex-wrap","gap-2"],[1,"px-4","py-2","bg-bg-card","border","border-border-subtle","rounded-full","text-sm","hover:border-accent-qobuz","transition-colors","flex","items-center","gap-2"],[1,"px-4","py-2","bg-bg-card","border","border-border-subtle","rounded-full","text-sm","hover:border-accent-qobuz","transition-colors","flex","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","text-text-muted"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"h-6","w-20","bg-bg-secondary","rounded","animate-pulse","mb-4"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-3","sm:gap-4"],[1,"bg-bg-card","rounded-lg","overflow-hidden"],[1,"h-6","w-16","bg-bg-secondary","rounded","animate-pulse","mb-4"],[1,"space-y-2"],[1,"flex","items-center","gap-3","p-3"],[1,"aspect-square","bg-bg-secondary","animate-pulse"],[1,"p-3"],[1,"h-4","bg-bg-secondary","rounded","animate-pulse","mb-2"],[1,"h-3","bg-bg-secondary","rounded","animate-pulse","w-2/3"],[1,"w-10","h-10","bg-bg-secondary","rounded","animate-pulse"],[1,"flex-1"],[1,"h-4","bg-bg-secondary","rounded","animate-pulse","mb-2","w-3/4"],[1,"h-3","bg-bg-secondary","rounded","animate-pulse","w-1/2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-12","h-12","mx-auto","mb-4","opacity-50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","items-center","justify-center","gap-3","py-8","text-text-muted"],[1,"text-sm","text-accent-qobuz","hover:underline"],[3,"album"],[1,"text-sm","text-accent-qobuz","hover:underline",3,"click"],[3,"play","album"],[3,"artist"],[1,"space-y-1"],[3,"track","trackNumber","showNumber","showArt","showArtist","showAlbum","showQuality","showMenu","isPlaying"],[3,"play","menu","track","trackNumber","showNumber","showArt","showArtist","showAlbum","showQuality","showMenu","isPlaying"],[3,"playlist"],[3,"play","playlist"],[1,"grid","grid-cols-2","md:grid-cols-4","lg:grid-cols-5","gap-3","sm:gap-4"],[3,"album","showYear"],[1,"text-center","py-8","text-text-muted"],[3,"play","album","showYear"],[3,"playlist","showOwner"],[3,"play","playlist","showOwner"],[1,"w-5","h-5","border-2","border-border-accent","border-t-accent-qobuz","rounded-full","animate-spin"]],template:function(t,n){if(t&1){let a=f();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),b("click",function(){return u(a),p(n.goBack())}),T(),o(5,"svg",6),C(6,"path",7),r()(),E(),o(7,"div",8),T(),o(8,"svg",9),C(9,"path",10),r(),E(),o(10,"input",11,0),nt("ngModelChange",function(h){return u(a),it(n.query,h)||(n.query=h),p(h)}),b("ngModelChange",function(h){return u(a),p(n.onSearch(h))})("keydown.escape",function(){return u(a),p(n.clearSearch())}),r(),d(12,wt,3,0,"button",12),r()(),d(13,Mt,3,0,"div",13),r()(),o(14,"div",14),b("scrolled",function(){return u(a),p(n.loadMore())}),d(15,Vt,8,1),d(16,Ft,11,2,"div",15),d(17,It,7,1,"div",16),d(18,le,6,6),r()()}t&2&&(l(10),et("ngModel",n.query),l(2),_(n.query?12:-1),l(),_(n.hasResults()?13:-1),l(),v("scrollThreshold",500)("scrollDisabled",!n.canLoadMore()),l(),_(!n.query&&!n.loading()?15:-1),l(),_(n.loading()?16:-1),l(),_(n.query&&!n.loading()&&!n.hasResults()?17:-1),l(),_(!n.loading()&&n.hasResults()?18:-1))},dependencies:[at,_t,st,ct,dt,pt,bt,ht,Ct,ft],styles:[".scrollbar-hide[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.scrollbar-hide[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.safe-area-top[_ngcontent-%COMP%]{padding-top:env(safe-area-inset-top,0)}"]})};export{gt as SearchComponent};
