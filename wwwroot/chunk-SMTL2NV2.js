import{La as n,R as s,ca as o,ma as r}from"./chunk-NJ7QWJ2J.js";var t=class i{elementRef=s(r);scrollThreshold=200;scrollContainer="main";scrollDisabled=!1;scrolled=new o;scrollListener;scrollElement;ngOnInit(){this.scrollListener=this.onScroll.bind(this),this.scrollElement=this.resolveScrollElement(),this.scrollElement&&this.scrollElement.addEventListener("scroll",this.scrollListener,{passive:!0})}ngOnDestroy(){this.scrollListener&&this.scrollElement&&this.scrollElement.removeEventListener("scroll",this.scrollListener)}resolveScrollElement(){return this.scrollContainer==="window"?window:this.scrollContainer==="self"?this.elementRef.nativeElement:document.querySelector(this.scrollContainer)||void 0}onScroll(){if(this.scrollDisabled)return;let l=!1;if(this.scrollElement===window){let e=window.scrollY||document.documentElement.scrollTop,c=window.innerHeight,d=document.documentElement.scrollHeight;l=e+c>=d-this.scrollThreshold}else if(this.scrollElement instanceof Element){let e=this.scrollElement;l=e.scrollTop+e.clientHeight>=e.scrollHeight-this.scrollThreshold}l&&this.scrolled.emit()}static \u0275fac=function(e){return new(e||i)};static \u0275dir=n({type:i,selectors:[["","appInfiniteScroll",""]],inputs:{scrollThreshold:"scrollThreshold",scrollContainer:"scrollContainer",scrollDisabled:"scrollDisabled"},outputs:{scrolled:"scrolled"}})};export{t as a};
