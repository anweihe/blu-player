import{a as H}from"./chunk-GURIE27B.js";import"./chunk-Q6FVMT4J.js";import{a as $}from"./chunk-JQO4LUW3.js";import{a as D,b as G,c as Y,e as K}from"./chunk-FWKO3KLK.js";import{d as Q,f as B,g as j}from"./chunk-DFEYJVTO.js";import{d as q,e as F}from"./chunk-F3JCDRW3.js";import{Ab as v,Ja as L,Mb as N,R as k,Sa as d,Ta as p,Va as A,W as u,Wa as S,X as _,Xa as h,Y as b,Ya as r,Z as T,Za as o,_a as x,cb as f,eb as g,gb as s,ha as w,lb as R,mb as I,ob as c,pb as O,qb as M,ua as P,xa as l,yb as z}from"./chunk-F7VV2WDX.js";var W=n=>["/qobuz/artist",n,"discography"],Z=n=>({type:n}),J=n=>["/qobuz/artist",n],V=(n,t)=>t.id,X=(n,t)=>t.type;function ee(n,t){n&1&&(r(0,"div",1),x(1,"div",4),o())}function te(n,t){if(n&1&&x(0,"img",11),n&2){let e,i=s(2);h("src",i.artistImage(),P)("alt",(e=i.artist())==null||e.name==null?null:e.name.display)}}function ne(n,t){n&1&&(r(0,"div",12),b(),r(1,"svg",18),x(2,"path",19)(3,"circle",20),o()())}function ie(n,t){if(n&1&&(r(0,"span",14),c(1),o()),n&2){let e,i=s(2);l(),M(" ",(e=i.artist())==null?null:e.artist_category," ")}}function re(n,t){if(n&1){let e=f();r(0,"button",23),g("click",function(){u(e);let a=s(3);return _(a.bioExpanded.set(!a.bioExpanded()))}),r(1,"span"),c(2),o(),b(),r(3,"svg",24),x(4,"path",25),o()()}if(n&2){let e=s(3);l(2),O(e.bioExpanded()?"Weniger anzeigen":"Mehr anzeigen"),l(),R("transform",e.bioExpanded()?"rotate(180deg)":"")}}function oe(n,t){if(n&1&&(r(0,"section",16)(1,"div",21),c(2),o(),d(3,re,5,3,"button",22),o()),n&2){let e=s(2);l(),I("line-clamp-4",!e.bioExpanded()),l(),M(" ",e.cleanBiography()," "),l(),p(e.bioNeedsExpand()?3:-1)}}function ae(n,t){if(n&1){let e=f();r(0,"app-track-item",30),g("play",function(){let a=u(e),m=a.$implicit,E=a.$index,y=s(3);return _(y.playTrack(m,E))})("menu",function(a){u(e);let m=s(3);return _(m.openTrackMenu(a))}),o()}if(n&2){let e=t.$implicit,i=t.$index,a=s(3);h("track",e)("trackNumber",i+1)("showNumber",!0)("showArt",!0)("showArtist",!1)("showAlbum",!0)("showQuality",a.isTrackHiRes(e))("showMenu",!0)("isPlaying",a.isTrackPlaying(e))}}function le(n,t){if(n&1){let e=f();r(0,"button",31),g("click",function(){u(e);let a=s(3);return _(a.topTracksExpanded.set(!a.topTracksExpanded()))}),r(1,"span"),c(2),o(),b(),r(3,"svg",24),x(4,"path",25),o()()}if(n&2){let e=s(3);l(2),O(e.topTracksExpanded()?"Weniger anzeigen":"Mehr anzeigen"),l(),R("transform",e.topTracksExpanded()?"rotate(180deg)":"")}}function se(n,t){if(n&1&&(r(0,"section",17)(1,"h2",26),c(2,"Beliebte Titel"),o(),r(3,"div",27),A(4,ae,1,9,"app-track-item",28,V),o(),d(6,le,5,3,"button",29),o()),n&2){let e=s(2);l(4),S(e.visibleTopTracks()),l(2),p(e.hasMoreTopTracks()?6:-1)}}function ce(n,t){if(n&1){let e=f();r(0,"button",40),g("click",function(){let a=u(e).$implicit,m=s(3);return _(m.currentReleaseType.set(a.type))}),c(1),o()}if(n&2){let e=t.$implicit,i=s(3);I("bg-accent-qobuz",i.currentReleaseType()===e.type)("text-white",i.currentReleaseType()===e.type)("border-accent-qobuz",i.currentReleaseType()===e.type)("bg-transparent",i.currentReleaseType()!==e.type)("text-text-secondary",i.currentReleaseType()!==e.type)("border-border-accent",i.currentReleaseType()!==e.type)("hover:bg-bg-card",i.currentReleaseType()!==e.type),l(),M(" ",i.getReleaseTypeLabel(e.type)," ")}}function de(n,t){if(n&1){let e=f();r(0,"app-album-card",41),g("play",function(){let a=u(e).$implicit,m=s(3);return _(m.playAlbum(a))}),o()}if(n&2){let e=t.$implicit;h("album",e)("showYear",!0)}}function pe(n,t){if(n&1&&(r(0,"a",39)(1,"div",42),b(),r(2,"svg",43),x(3,"path",36),o(),T(),r(4,"span",44),c(5,"Mehr"),o()()()),n&2){let e=s(3);h("routerLink",z(2,W,e.id))("queryParams",z(4,Z,e.currentReleaseType()))}}function me(n,t){if(n&1&&(r(0,"section",17)(1,"h2",26),c(2,"Diskografie"),o(),r(3,"div",32),A(4,ce,2,15,"button",33,X),r(6,"a",34),c(7," Alles "),b(),r(8,"svg",35),x(9,"path",36),o()()(),T(),r(10,"div",37),A(11,de,1,2,"app-album-card",38,V),d(13,pe,6,6,"a",39),o()()),n&2){let e=s(2);l(4),S(e.artist().releases),l(2),h("routerLink",z(2,W,e.id)),l(5),S(e.currentReleaseItems()),l(2),p(e.currentReleaseHasMore()?13:-1)}}function ue(n,t){if(n&1&&x(0,"img",48),n&2){let e=s().$implicit,i=s(3);h("src",i.getSimilarArtistImage(e),P)("alt",e.name)}}function _e(n,t){n&1&&(r(0,"div",49),b(),r(1,"svg",51),x(2,"path",19)(3,"circle",20),o()())}function xe(n,t){if(n&1&&(r(0,"a",46)(1,"div",47),d(2,ue,1,2,"img",48)(3,_e,4,0,"div",49),o(),r(4,"span",50),c(5),o()()),n&2){let e=t.$implicit,i=s(3);h("routerLink",z(3,J,e.id)),l(2),p(i.getSimilarArtistImage(e)?2:3),l(3),M(" ",e.name," ")}}function ge(n,t){if(n&1&&(r(0,"section",17)(1,"h2",26),c(2,"\xC4hnliche K\xFCnstler"),o(),r(3,"div",45),A(4,xe,6,5,"a",46,V),o()()),n&2){let e=s(2);l(4),S(e.artist().similar_artists.items)}}function be(n,t){if(n&1){let e=f();r(0,"app-album-card",41),g("play",function(){let a=u(e).$implicit,m=s(3);return _(m.playAlbum(a))}),o()}if(n&2){let e=t.$implicit;h("album",e)("showYear",!0)}}function he(n,t){if(n&1&&(r(0,"section",17)(1,"h2",26),c(2,"Tritt auf in"),o(),r(3,"div",52),A(4,be,1,2,"app-album-card",38,V),o()()),n&2){let e=s(2);l(4),S(e.appearsOnAlbums().slice(0,10))}}function Ce(n,t){if(n&1){let e=f();r(0,"div",5)(1,"button",6),g("click",function(){u(e);let a=s();return _(a.goBack())}),b(),r(2,"svg",7),x(3,"path",8),o(),T(),r(4,"span"),c(5,"Zur\xFCck"),o()()(),r(6,"div",9)(7,"div",10),g("click",function(){u(e);let a=s();return _(a.artistImage()&&a.openImageLightbox())}),d(8,te,1,2,"img",11)(9,ne,4,0,"div",12),o(),r(10,"div",13),d(11,ie,2,1,"span",14),r(12,"h1",15),c(13),o()()(),d(14,oe,4,4,"section",16),d(15,se,7,1,"section",17),d(16,me,14,4,"section",17),d(17,ge,6,0,"section",17),d(18,he,6,0,"section",17)}if(n&2){let e,i,a,m,E,y,C=s();l(7),I("cursor-pointer",C.artistImage()),l(),p(C.artistImage()?8:9),l(3),p((e=C.artist())!=null&&e.artist_category?11:-1),l(2),M(" ",(i=C.artist())==null||i.name==null?null:i.name.display," "),l(),p(!((a=C.artist())==null||a.biography==null)&&a.biography.content?14:-1),l(),p(!((m=C.artist())==null||m.top_tracks==null)&&m.top_tracks.length?15:-1),l(),p(!((E=C.artist())==null||E.releases==null)&&E.releases.length?16:-1),l(),p(!((y=C.artist())==null||y.similar_artists==null||y.similar_artists.items==null)&&y.similar_artists.items.length?17:-1),l(),p(C.appearsOnAlbums().length?18:-1)}}function fe(n,t){n&1&&(r(0,"div",2),b(),r(1,"svg",53),x(2,"path",54),o(),T(),r(3,"p"),c(4,"K\xFCnstler konnte nicht geladen werden"),o(),r(5,"button",55),c(6," Zur\xFCck zum Browser "),o()())}function we(n,t){if(n&1){let e=f();r(0,"div",56),g("click",function(){u(e);let a=s();return _(a.lightboxOpen.set(!1))}),r(1,"button",57),g("click",function(){u(e);let a=s();return _(a.lightboxOpen.set(!1))}),b(),r(2,"svg",58),x(3,"path",59),o()(),T(),r(4,"img",60),g("click",function(a){return u(e),_(a.stopPropagation())}),o()()}if(n&2){let e,i=s();l(4),h("src",i.artistImage(),P)("alt",(e=i.artist())==null||e.name==null?null:e.name.display)}}var ve={album:"Alben",single:"Singles",ep:"EPs",epSingle:"EPs & Singles","ep-single":"EPs & Singles",ep_single:"EPs & Singles",live:"Live",compilation:"Compilations",soundtrack:"Soundtracks",awardedRelease:"Ausgezeichnet",awardedReleases:"Ausgezeichnet",awarded_release:"Ausgezeichnet",other:"Andere"},U=class n{id;qobuzApi=k(D);playerState=k($);playback=k(H);contextMenu=k(G);router=k(q);loading=w(!0);artist=w(null);artistImage=w(void 0);bioExpanded=w(!1);topTracksExpanded=w(!1);currentReleaseType=w("album");lightboxOpen=w(!1);TOP_TRACKS_INITIAL=5;cleanBiography=v(()=>{let t=this.artist()?.biography?.content;return t?t.replace(/<br\s*\/?>/gi,`
`).replace(/<[^>]*>/g,"").trim():""});bioNeedsExpand=v(()=>(this.cleanBiography()?.length??0)>300);visibleTopTracks=v(()=>{let t=this.artist()?.top_tracks??[];return this.topTracksExpanded()?t:t.slice(0,this.TOP_TRACKS_INITIAL)});hasMoreTopTracks=v(()=>(this.artist()?.top_tracks?.length??0)>this.TOP_TRACKS_INITIAL);currentReleaseItems=v(()=>(this.artist()?.releases??[]).find(i=>i.type===this.currentReleaseType())?.items??[]);currentReleaseHasMore=v(()=>(this.artist()?.releases??[]).find(i=>i.type===this.currentReleaseType())?.has_more??!1);appearsOnAlbums=v(()=>{let t=this.artist()?.tracks_appears_on??[],e=new Map;return t.forEach(i=>{i.album?.id&&!e.has(i.album.id)&&e.set(i.album.id,i.album)}),Array.from(e.values())});formatDuration=j;ngOnInit(){this.id&&this.loadArtist()}loadArtist(){let t=parseInt(this.id,10);this.qobuzApi.getArtistPage(t).subscribe({next:e=>{this.artist.set(e),this.artistImage.set(Q(e)),e.releases?.length&&this.currentReleaseType.set(e.releases[0].type??"album"),this.loading.set(!1)},error:()=>this.loading.set(!1)})}goBack(){window.history.back()}getReleaseTypeLabel(t){return ve[t]??t}getAlbumType(t){return t.product_type?.toLowerCase()==="single"||t.tracks_count===1?"Single":t.product_type?.toLowerCase()==="ep"||t.tracks_count>=2&&t.tracks_count<=6&&t.duration<1800?"EP":"Album"}getYear(t){return t?new Date(t*1e3).getFullYear().toString():""}getSimilarArtistImage(t){return B(t)}isTrackHiRes(t){return t.hires_streamable||t.hires||t.maximum_bit_depth!==void 0&&t.maximum_bit_depth>16}isTrackPlaying(t){return this.playerState.currentTrack()?.id===t.id&&this.playerState.isPlaying()}playTopTracks(){let t=this.artist()?.top_tracks;t?.length&&this.playTrack(t[0],0)}playTrack(t,e){this.playback.playTrack(t)}playAlbum(t){t.id&&this.router.navigate(["/qobuz/album",t.id])}openTrackMenu(t){this.contextMenu.openTrackMenu(t.event,t.track,{onPlay:()=>this.playTrack(t.track,0),onAddToQueue:()=>console.log("Add to queue:",t.track.title)})}openImageLightbox(){this.artistImage()&&this.lightboxOpen.set(!0)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=L({type:n,selectors:[["app-artist"]],inputs:{id:"id"},decls:5,vars:2,consts:[[1,"artist-page","bg-bg-primary","min-h-screen","pb-28"],[1,"flex","justify-center","items-center","h-64"],[1,"flex","flex-col","items-center","justify-center","h-64","text-text-muted"],[1,"fixed","inset-0","z-50","bg-black/90","flex","items-center","justify-center","p-4"],[1,"loading-spinner"],[1,"artist-header","p-4"],[1,"btn-back","inline-flex","items-center","gap-2","text-text-secondary","hover:text-text-primary","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M19 12H5M12 19l-7-7 7-7"],[1,"artist-hero","flex","flex-col","items-center","text-center","px-5","py-8","mb-6","mx-4","rounded-xl",2,"background","linear-gradient(180deg, rgba(29, 185, 84, 0.08) 0%, transparent 100%)"],[1,"artist-portrait","w-44","h-44","rounded-full","overflow-hidden","bg-bg-secondary","shadow-2xl","mb-5","flex-shrink-0",3,"click"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"artist-portrait-placeholder","w-full","h-full","flex","items-center","justify-center","text-text-muted"],[1,"artist-hero-info","flex","flex-col","items-center","gap-2"],[1,"artist-category","px-3","py-1","bg-accent-qobuz/15","text-accent-qobuz","text-xs","font-semibold","rounded-full","uppercase","tracking-wider"],[1,"text-2xl","font-bold","m-0","leading-tight"],[1,"artist-biography","mx-4","mb-6","p-5","bg-bg-card","border","border-border-subtle","rounded-xl"],[1,"artist-section","mx-4","mb-8"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1.5",1,"w-16","h-16","opacity-50"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"biography-content","text-sm","text-text-secondary","leading-relaxed","whitespace-pre-line"],[1,"btn-expand-bio","mt-3","flex","items-center","gap-1","text-sm","text-accent-qobuz","hover:underline"],[1,"btn-expand-bio","mt-3","flex","items-center","gap-1","text-sm","text-accent-qobuz","hover:underline",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-4","h-4","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M6 9l6 6 6-6"],[1,"text-lg","font-semibold","mb-4","text-text-primary"],[1,"artist-top-tracks","space-y-1"],[3,"track","trackNumber","showNumber","showArt","showArtist","showAlbum","showQuality","showMenu","isPlaying"],[1,"btn-expand-tracks","mt-3","flex","items-center","gap-1","text-sm","text-accent-qobuz","hover:underline","mx-auto"],[3,"play","menu","track","trackNumber","showNumber","showArt","showArtist","showAlbum","showQuality","showMenu","isPlaying"],[1,"btn-expand-tracks","mt-3","flex","items-center","gap-1","text-sm","text-accent-qobuz","hover:underline","mx-auto",3,"click"],[1,"discography-sub-nav","flex","gap-2","mb-4","pb-1","overflow-x-auto","scrollbar-hide"],[1,"sub-tab-btn","flex-shrink-0","px-4","py-2","text-sm","rounded-full","border","transition-colors","whitespace-nowrap",3,"bg-accent-qobuz","text-white","border-accent-qobuz","bg-transparent","text-text-secondary","border-border-accent","hover:bg-bg-card"],[1,"discography-all-btn","ml-auto","flex","items-center","gap-1","flex-shrink-0","px-4","py-2","text-sm","rounded-full","border","border-border-accent","text-text-secondary","hover:bg-bg-card","hover:text-text-primary","transition-colors",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","d","M5 12h14M12 5l7 7-7 7"],[1,"discography-grid","grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-5","gap-4"],[3,"album","showYear"],[1,"discography-more-card","flex","flex-col","items-center","justify-center","aspect-square","bg-bg-card","border","border-border-subtle","rounded-lg","hover:border-border-accent","hover:bg-bg-card-hover","transition-all","cursor-pointer",3,"routerLink","queryParams"],[1,"sub-tab-btn","flex-shrink-0","px-4","py-2","text-sm","rounded-full","border","transition-colors","whitespace-nowrap",3,"click"],[3,"play","album","showYear"],[1,"more-card-content","flex","flex-col","items-center","gap-2","text-text-muted"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-6","h-6","text-accent-qobuz"],[1,"text-sm","font-medium"],[1,"similar-artists-scroll","flex","gap-4","overflow-x-auto","pb-2","scrollbar-thin"],[1,"similar-artist-card","flex","flex-col","items-center","flex-shrink-0","w-28","p-3","bg-bg-card","border","border-border-subtle","rounded-lg","hover:border-border-accent","hover:shadow-md","transition-all","cursor-pointer",3,"routerLink"],[1,"similar-artist-avatar","w-20","h-20","rounded-full","overflow-hidden","bg-bg-secondary","mb-2","flex-shrink-0"],["loading","lazy",1,"w-full","h-full","object-cover",3,"src","alt"],[1,"similar-artist-placeholder","w-full","h-full","flex","items-center","justify-center","text-text-muted"],[1,"similar-artist-name","text-xs","font-semibold","text-text-primary","text-center","truncate","max-w-full"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1.5",1,"w-8","h-8","opacity-50"],[1,"appears-on-grid","grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-5","gap-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-12","h-12","mb-4","opacity-50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],["routerLink","/qobuz/browse",1,"mt-4","px-4","py-2","bg-accent-qobuz","text-white","rounded-lg","hover:bg-accent-qobuz/90","transition-colors"],[1,"fixed","inset-0","z-50","bg-black/90","flex","items-center","justify-center","p-4",3,"click"],[1,"absolute","top-4","right-4","text-white/70","hover:text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-8","h-8"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"max-w-full","max-h-full","object-contain","rounded-lg",3,"click","src","alt"]],template:function(e,i){e&1&&(r(0,"div",0),d(1,ee,2,0,"div",1)(2,Ce,19,10)(3,fe,7,0,"div",2),d(4,we,5,2,"div",3),o()),e&2&&(l(),p(i.loading()?1:i.artist()?2:3),l(3),p(i.lightboxOpen()?4:-1))},dependencies:[N,F,K,Y],styles:[".loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid var(--color-border-accent);border-top-color:var(--color-accent-qobuz);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.line-clamp-4[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden}.scrollbar-hide[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.scrollbar-hide[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.scrollbar-thin[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:var(--color-border-accent) transparent}.scrollbar-thin[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.scrollbar-thin[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.scrollbar-thin[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--color-border-accent);border-radius:3px}.artist-portrait[_ngcontent-%COMP%]{box-shadow:0 8px 32px #0006}.artist-portrait.cursor-pointer[_ngcontent-%COMP%]{cursor:zoom-in;transition:transform .2s ease}.artist-portrait.cursor-pointer[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.similar-artist-card[_ngcontent-%COMP%]:hover, .discography-more-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}@media(max-width:480px){.artist-portrait[_ngcontent-%COMP%]{width:140px!important;height:140px!important}.similar-artist-card[_ngcontent-%COMP%]{width:100px;padding:10px}.similar-artist-avatar[_ngcontent-%COMP%]{width:64px!important;height:64px!important}.similar-artist-name[_ngcontent-%COMP%]{font-size:.7rem}}"]})};export{U as ArtistComponent};
