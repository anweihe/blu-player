import{a as o,b as l,c as n,e as i}from"./chunk-NROGR6IW.js";import{N as u,Nb as a,ia as t}from"./chunk-TWVQ6WYG.js";var d=class r{selectedPlayer=t(null);players=t([]);playerMode=t("browser");playbackStatus=t(null);currentTrack=t(null);currentPlayingTrackId=t(null);isPlaying=a(()=>{let e=this.playbackStatus();return e?o(e):!1});isPaused=a(()=>{let e=this.playbackStatus();return e?l(e):!1});isStopped=a(()=>{let e=this.playbackStatus();return e?n(e):!0});progress=t(0);duration=t(0);progressPercent=a(()=>{let e=this.duration(),s=this.progress();return e>0?s/e*100:0});formattedPosition=a(()=>i(this.progress())??"0:00");formattedDuration=a(()=>i(this.duration())??"0:00");volume=t(50);isMuted=t(!1);isFixedVolume=a(()=>this.selectedPlayer()?.isFixedVolume??!1);streamingQuality=t(27);qualityLabel=a(()=>{switch(this.streamingQuality()){case 5:return"MP3 320";case 6:return"CD (16-Bit)";case 7:return"Hi-Res (24-Bit/96kHz)";case 27:return"Hi-Res Max";default:return"Unknown"}});queue=t([]);queueIndex=t(0);isQueueVisible=t(!1);isNowPlayingVisible=t(!1);isVolumePanelVisible=t(!1);isPlayerSelectorVisible=t(!1);selectPlayer(e){this.selectedPlayer.set(e),e&&(this.playerMode.set("bluesound"),this.volume.set(e.isFixedVolume?100:e.volume))}useBrowserPlayback(){this.selectedPlayer.set(null),this.playerMode.set("browser")}updatePlaybackStatus(e){this.playbackStatus.set(e),e.currentSeconds!==void 0&&this.progress.set(e.currentSeconds),e.totalSeconds!==void 0&&this.duration.set(e.totalSeconds)}updateProgress(e){this.progress.set(e)}setVolume(e){this.volume.set(Math.max(0,Math.min(100,e))),e>0&&this.isMuted.set(!1)}toggleMute(){this.isMuted.update(e=>!e)}setStreamingQuality(e){this.streamingQuality.set(e)}toggleNowPlaying(){this.isNowPlayingVisible.update(e=>!e)}showNowPlaying(){this.isNowPlayingVisible.set(!0)}hideNowPlaying(){this.isNowPlayingVisible.set(!1)}toggleQueue(){this.isQueueVisible.update(e=>!e)}setQueue(e,s=0){this.queue.set(e),this.queueIndex.set(s)}clearQueue(){this.queue.set([]),this.queueIndex.set(0)}setCurrentPlayingTrackId(e){this.currentPlayingTrackId.set(e)}reset(){this.playbackStatus.set(null),this.currentTrack.set(null),this.currentPlayingTrackId.set(null),this.progress.set(0),this.duration.set(0),this.queue.set([]),this.queueIndex.set(0)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};export{d as a};
