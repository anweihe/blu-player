import{a as gt}from"./chunk-K7NHOI4B.js";import{a as ct,b as dt,e as mt,h as _t}from"./chunk-5GC77CUC.js";import{a as lt}from"./chunk-O66JSED4.js";import{a as pt,b as ht,c as bt,d as ft,e as Ct}from"./chunk-AT4K7DUL.js";import{a as ut}from"./chunk-XHV6DCF3.js";import{e as rt,g as st}from"./chunk-NROGR6IW.js";import"./chunk-N35TVY3C.js";import{a as ot}from"./chunk-GT7YEPYQ.js";import{$b as at,A as K,Bb as p,C as G,Db as S,Fb as et,Gb as it,H as Y,Hb as nt,I as F,J as U,Ja as l,Kb as Q,Nb as N,S as M,Va as W,X as _,Y as u,Z as w,_ as P,db as d,eb as m,f as R,fb as I,gb as x,hb as y,ia as g,ib as v,j as E,jb as o,kb as r,lb as f,pb as C,rb as b,tb as c,vb as J,wb as X,xb as Z,y as z,zb as tt}from"./chunk-TWVQ6WYG.js";var yt=["searchInput"],vt=()=>[1,2,3,4],St=()=>[1,2,3],wt=(i,e)=>e.value,k=(i,e)=>e.id;function kt(i,e){if(i&1){let t=C();o(0,"button",20),b("click",function(){_(t);let a=c();return u(a.clearSearch())}),w(),o(1,"svg",14),f(2,"path",15),r()()}}function Tt(i,e){if(i&1&&(o(0,"span",23),p(1),r()),i&2){let t=c().$implicit,n=c(2);l(),S("(",n.getTabCount(t.value),")")}}function Mt(i,e){if(i&1){let t=C();o(0,"button",22),b("click",function(){let a=_(t).$implicit,s=c(2);return u(s.currentTab.set(a.value))}),p(1),d(2,Tt,2,1,"span",23),r()}if(i&2){let t=e.$implicit,n=c(2);tt("bg-accent-qobuz",n.currentTab()===t.value)("text-white",n.currentTab()===t.value)("border-accent-qobuz",n.currentTab()===t.value)("bg-transparent",n.currentTab()!==t.value)("text-text-secondary",n.currentTab()!==t.value)("border-border-subtle",n.currentTab()!==t.value)("hover:border-border-accent",n.currentTab()!==t.value),l(),S(" ",t.label," "),l(),m(n.getTabCount(t.value)>0?2:-1)}}function Pt(i,e){if(i&1&&(o(0,"div",16),x(1,Mt,3,16,"button",21,wt),r()),i&2){let t=c();l(),y(t.tabs)}}function Et(i,e){if(i&1){let t=C();o(0,"button",35),b("click",function(){let a=_(t).$implicit,s=c(3);return u(s.searchFor(a))}),w(),o(1,"svg",36),f(2,"path",37),r(),p(3),r()}if(i&2){let t=e.$implicit;l(3),S(" ",t," ")}}function Vt(i,e){if(i&1){let t=C();o(0,"section",24)(1,"div",30)(2,"h2",31),p(3,"Letzte Suchen"),r(),o(4,"button",32),b("click",function(){_(t);let a=c(2);return u(a.clearRecentSearches())}),p(5," L\xF6schen "),r()(),o(6,"div",33),x(7,Et,4,1,"button",34,I),r()()}if(i&2){let t=c(2);l(7),y(t.recentSearches())}}function At(i,e){if(i&1&&(d(0,Vt,9,0,"section",24),o(1,"div",25),w(),o(2,"svg",26),f(3,"path",27),r(),P(),o(4,"p",28),p(5,"Suche nach Musik"),r(),o(6,"p",29),p(7,"Finde K\xFCnstler, Alben, Titel und Playlists"),r()()),i&2){let t=c();m(t.recentSearches().length>0?0:-1)}}function zt(i,e){i&1&&(o(0,"div",40),f(1,"div",44),o(2,"div",45),f(3,"div",46)(4,"div",47),r()())}function Ft(i,e){i&1&&(o(0,"div",43),f(1,"div",48),o(2,"div",49),f(3,"div",50)(4,"div",51),r()())}function It(i,e){i&1&&(o(0,"div",18)(1,"section"),f(2,"div",38),o(3,"div",39),x(4,zt,5,0,"div",40,I),r()(),o(6,"section"),f(7,"div",41),o(8,"div",42),x(9,Ft,5,0,"div",43,I),r()()()),i&2&&(l(4),y(Q(0,vt)),l(5),y(Q(1,St)))}function Rt(i,e){if(i&1&&(o(0,"div",19),w(),o(1,"svg",52),f(2,"path",53),r(),P(),o(3,"p",28),p(4,"Keine Ergebnisse"),r(),o(5,"p",29),p(6),r()()),i&2){let t=c();l(6),S('Keine Ergebnisse f\xFCr "',t.query,'"')}}function Qt(i,e){if(i&1){let t=C();o(0,"button",57),b("click",function(){_(t);let a=c(4);return u(a.currentTab.set("albums"))}),p(1),r()}if(i&2){let t=c(4);l(),S(" Alle anzeigen (",t.albumsPagination().total,") ")}}function Nt(i,e){if(i&1){let t=C();o(0,"app-album-card",58),b("play",function(){let a=_(t).$implicit,s=c(4);return u(s.playAlbum(a))}),r()}if(i&2){let t=e.$implicit;v("album",t)}}function $t(i,e){if(i&1&&(o(0,"section",24)(1,"div",30)(2,"h2",31),p(3,"Alben"),r(),d(4,Qt,2,1,"button",55),r(),o(5,"div",39),x(6,Nt,1,1,"app-album-card",56,k),r()()),i&2){let t=c(3);l(4),m(t.albumsPagination().total>4?4:-1),l(2),y(t.albums().slice(0,4))}}function qt(i,e){if(i&1){let t=C();o(0,"button",57),b("click",function(){_(t);let a=c(4);return u(a.currentTab.set("artists"))}),p(1),r()}if(i&2){let t=c(4);l(),S(" Alle anzeigen (",t.artistsPagination().total,") ")}}function Dt(i,e){if(i&1&&f(0,"app-artist-card",59),i&2){let t=e.$implicit;v("artist",t)}}function Lt(i,e){if(i&1&&(o(0,"section",24)(1,"div",30)(2,"h2",31),p(3,"K\xFCnstler"),r(),d(4,qt,2,1,"button",55),r(),o(5,"div",39),x(6,Dt,1,1,"app-artist-card",59,k),r()()),i&2){let t=c(3);l(4),m(t.artistsPagination().total>4?4:-1),l(2),y(t.artists().slice(0,4))}}function Ot(i,e){if(i&1){let t=C();o(0,"button",57),b("click",function(){_(t);let a=c(4);return u(a.currentTab.set("tracks"))}),p(1),r()}if(i&2){let t=c(4);l(),S(" Alle anzeigen (",t.tracksPagination().total,") ")}}function jt(i,e){if(i&1){let t=C();o(0,"app-track-item",62),b("play",function(){let a=_(t).$implicit,s=c(4);return u(s.playTrack(a))})("menu",function(a){_(t);let s=c(4);return u(s.openTrackMenu(a))}),r()}if(i&2){let t=e.$implicit,n=e.$index,a=c(4);v("track",t)("trackNumber",n+1)("showNumber",!1)("showArt",!0)("showArtist",!0)("showAlbum",!0)("showQuality",a.isTrackHiRes(t))("showMenu",!0)("isPlaying",a.isTrackPlaying(t))}}function Bt(i,e){if(i&1&&(o(0,"section",24)(1,"div",30)(2,"h2",31),p(3,"Titel"),r(),d(4,Ot,2,1,"button",55),r(),o(5,"div",60),x(6,jt,1,9,"app-track-item",61,k),r()()),i&2){let t=c(3);l(4),m(t.tracksPagination().total>5?4:-1),l(2),y(t.tracks().slice(0,5))}}function Ht(i,e){if(i&1){let t=C();o(0,"button",57),b("click",function(){_(t);let a=c(4);return u(a.currentTab.set("playlists"))}),p(1),r()}if(i&2){let t=c(4);l(),S(" Alle anzeigen (",t.playlistsPagination().total,") ")}}function Kt(i,e){if(i&1){let t=C();o(0,"app-playlist-card",64),b("play",function(){let a=_(t).$implicit,s=c(4);return u(s.playPlaylist(a))}),r()}if(i&2){let t=e.$implicit;v("playlist",t)}}function Gt(i,e){if(i&1&&(o(0,"section",24)(1,"div",30)(2,"h2",31),p(3,"Playlists"),r(),d(4,Ht,2,1,"button",55),r(),o(5,"div",39),x(6,Kt,1,1,"app-playlist-card",63,k),r()()),i&2){let t=c(3);l(4),m(t.playlistsPagination().total>4?4:-1),l(2),y(t.playlists().slice(0,4))}}function Yt(i,e){if(i&1&&(d(0,$t,8,1,"section",24),d(1,Lt,8,1,"section",24),d(2,Bt,8,1,"section",24),d(3,Gt,8,1,"section",24)),i&2){let t=c(2);m(t.albums().length>0?0:-1),l(),m(t.artists().length>0?1:-1),l(),m(t.tracks().length>0?2:-1),l(),m(t.playlists().length>0?3:-1)}}function Ut(i,e){if(i&1){let t=C();o(0,"app-album-card",68),b("play",function(){let a=_(t).$implicit,s=c(3);return u(s.playAlbum(a))}),r()}if(i&2){let t=e.$implicit;v("album",t)("showYear",!0)}}function Wt(i,e){i&1&&(o(0,"div",67),p(1,"Keine Alben gefunden"),r())}function Jt(i,e){if(i&1&&(o(0,"div",65),x(1,Ut,1,2,"app-album-card",66,k),r(),d(3,Wt,2,0,"div",67)),i&2){let t=c(2);l(),y(t.albums()),l(2),m(t.albums().length===0?3:-1)}}function Xt(i,e){if(i&1&&f(0,"app-artist-card",59),i&2){let t=e.$implicit;v("artist",t)}}function Zt(i,e){i&1&&(o(0,"div",67),p(1,"Keine K\xFCnstler gefunden"),r())}function te(i,e){if(i&1&&(o(0,"div",65),x(1,Xt,1,1,"app-artist-card",59,k),r(),d(3,Zt,2,0,"div",67)),i&2){let t=c(2);l(),y(t.artists()),l(2),m(t.artists().length===0?3:-1)}}function ee(i,e){if(i&1){let t=C();o(0,"app-track-item",62),b("play",function(){let a=_(t).$implicit,s=c(3);return u(s.playTrack(a))})("menu",function(a){_(t);let s=c(3);return u(s.openTrackMenu(a))}),r()}if(i&2){let t=e.$implicit,n=e.$index,a=c(3);v("track",t)("trackNumber",n+1)("showNumber",!0)("showArt",!0)("showArtist",!0)("showAlbum",!0)("showQuality",a.isTrackHiRes(t))("showMenu",!0)("isPlaying",a.isTrackPlaying(t))}}function ie(i,e){i&1&&(o(0,"div",67),p(1,"Keine Titel gefunden"),r())}function ne(i,e){if(i&1&&(o(0,"div",60),x(1,ee,1,9,"app-track-item",61,k),r(),d(3,ie,2,0,"div",67)),i&2){let t=c(2);l(),y(t.tracks()),l(2),m(t.tracks().length===0?3:-1)}}function ae(i,e){if(i&1){let t=C();o(0,"app-playlist-card",70),b("play",function(){let a=_(t).$implicit,s=c(3);return u(s.playPlaylist(a))}),r()}if(i&2){let t=e.$implicit;v("playlist",t)("showOwner",!0)}}function oe(i,e){i&1&&(o(0,"div",67),p(1,"Keine Playlists gefunden"),r())}function re(i,e){if(i&1&&(o(0,"div",65),x(1,ae,1,2,"app-playlist-card",69,k),r(),d(3,oe,2,0,"div",67)),i&2){let t=c(2);l(),y(t.playlists()),l(2),m(t.playlists().length===0?3:-1)}}function le(i,e){i&1&&(o(0,"div",54),f(1,"div",71),o(2,"span"),p(3,"Lade mehr..."),r()())}function se(i,e){if(i&1&&(d(0,Yt,4,4),d(1,Jt,4,1),d(2,te,4,1),d(3,ne,4,1),d(4,re,4,1),d(5,le,4,0,"div",54)),i&2){let t=c();m(t.currentTab()==="all"?0:-1),l(),m(t.currentTab()==="albums"?1:-1),l(),m(t.currentTab()==="artists"?2:-1),l(),m(t.currentTab()==="tracks"?3:-1),l(),m(t.currentTab()==="playlists"?4:-1),l(),m(t.loadingMore()?5:-1)}}var ce=[{value:"all",label:"Alle"},{value:"albums",label:"Alben"},{value:"artists",label:"K\xFCnstler"},{value:"tracks",label:"Titel"},{value:"playlists",label:"Playlists"}],$="qobuz_recent_searches",de=8,q=20,xt=class i{searchInputEl;qobuzApi=M(st);playerState=M(lt);contextMenu=M(pt);ratingService=M(ut);navState=M(ot);searchSubject=new R;destroy$=new R;query="";currentQuery="";loading=g(!1);loadingMore=g(!1);currentTab=g("all");recentSearches=g([]);albums=g([]);artists=g([]);tracks=g([]);playlists=g([]);albumsPagination=g({offset:0,total:0,hasMore:!1});artistsPagination=g({offset:0,total:0,hasMore:!1});tracksPagination=g({offset:0,total:0,hasMore:!1});playlistsPagination=g({offset:0,total:0,hasMore:!1});tabs=ce;hasResults=N(()=>this.albums().length>0||this.artists().length>0||this.tracks().length>0||this.playlists().length>0);canLoadMore=N(()=>{if(this.loading()||this.loadingMore())return!1;let e=this.currentTab();if(e==="all")return this.albumsPagination().hasMore||this.artistsPagination().hasMore||this.tracksPagination().hasMore||this.playlistsPagination().hasMore;switch(e){case"albums":return this.albumsPagination().hasMore;case"artists":return this.artistsPagination().hasMore;case"tracks":return this.tracksPagination().hasMore;case"playlists":return this.playlistsPagination().hasMore;default:return!1}});ngOnInit(){this.navState.usePreset("hidden"),this.loadRecentSearches(),this.searchSubject.pipe(F(this.destroy$),K(300),G(),U(e=>{e.trim()&&(this.loading.set(!0),this.currentQuery=e,this.resetAllPagination(),this.addToRecentSearches(e))}),Y(e=>e.trim()?this.qobuzApi.search(e,q,0).pipe(z(()=>E(null))):E(null))).subscribe(e=>{e&&this.processSearchResponse(e,!1),this.loading.set(!1),e&&this.currentTab.set("all")})}ngAfterViewInit(){setTimeout(()=>{this.searchInputEl?.nativeElement.focus()},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSearch(e){e.trim()?this.searchSubject.next(e):(this.resetAllPagination(),this.loading.set(!1))}searchFor(e){this.query=e,this.searchSubject.next(e)}clearSearch(){this.query="",this.currentQuery="",this.resetAllPagination(),this.loading.set(!1),this.searchInputEl?.nativeElement.focus()}resetAllPagination(){this.albums.set([]),this.artists.set([]),this.tracks.set([]),this.playlists.set([]),this.albumsPagination.set({offset:0,total:0,hasMore:!1}),this.artistsPagination.set({offset:0,total:0,hasMore:!1}),this.tracksPagination.set({offset:0,total:0,hasMore:!1}),this.playlistsPagination.set({offset:0,total:0,hasMore:!1})}processSearchResponse(e,t){let n=e.albums?.items??[],a=e.albums?.total??0,s=e.albums?.offset??0;t?this.albums.update(T=>[...T,...n]):this.albums.set(n),this.albumsPagination.set({offset:s+n.length,total:a,hasMore:s+n.length<a}),this.fetchRatingsForAlbums(n);let h=e.artists?.items??[],D=e.artists?.total??0,L=e.artists?.offset??0;t?this.artists.update(T=>[...T,...h]):this.artists.set(h),this.artistsPagination.set({offset:L+h.length,total:D,hasMore:L+h.length<D});let V=e.tracks?.items??[],O=e.tracks?.total??0,j=e.tracks?.offset??0;t?this.tracks.update(T=>[...T,...V]):this.tracks.set(V),this.tracksPagination.set({offset:j+V.length,total:O,hasMore:j+V.length<O});let A=e.playlists?.items??[],B=e.playlists?.total??0,H=e.playlists?.offset??0;t?this.playlists.update(T=>[...T,...A]):this.playlists.set(A),this.playlistsPagination.set({offset:H+A.length,total:B,hasMore:H+A.length<B})}loadMore(){if(!this.canLoadMore()||!this.currentQuery)return;let e=this.currentTab();if(this.loadingMore.set(!0),e==="all"){let n=0;this.albumsPagination().hasMore?n=this.albumsPagination().offset:this.artistsPagination().hasMore?n=this.artistsPagination().offset:this.tracksPagination().hasMore?n=this.tracksPagination().offset:this.playlistsPagination().hasMore&&(n=this.playlistsPagination().offset),this.qobuzApi.search(this.currentQuery,q,n).pipe(F(this.destroy$),z(()=>E(null))).subscribe(a=>{a&&this.processSearchResponse(a,!0),this.loadingMore.set(!1)});return}let t=0;switch(e){case"albums":t=this.albumsPagination().offset;break;case"artists":t=this.artistsPagination().offset;break;case"tracks":t=this.tracksPagination().offset;break;case"playlists":t=this.playlistsPagination().offset;break;default:this.loadingMore.set(!1);return}this.qobuzApi.search(this.currentQuery,q,t).pipe(F(this.destroy$),z(()=>E(null))).subscribe(n=>{n&&this.processTabResponse(e,n),this.loadingMore.set(!1)})}processTabResponse(e,t){switch(e){case"albums":{let n=t.albums?.items??[],a=t.albums?.total??0,s=t.albums?.offset??0;this.albums.update(h=>[...h,...n]),this.albumsPagination.set({offset:s+n.length,total:a,hasMore:s+n.length<a});break}case"artists":{let n=t.artists?.items??[],a=t.artists?.total??0,s=t.artists?.offset??0;this.artists.update(h=>[...h,...n]),this.artistsPagination.set({offset:s+n.length,total:a,hasMore:s+n.length<a});break}case"tracks":{let n=t.tracks?.items??[],a=t.tracks?.total??0,s=t.tracks?.offset??0;this.tracks.update(h=>[...h,...n]),this.tracksPagination.set({offset:s+n.length,total:a,hasMore:s+n.length<a});break}case"playlists":{let n=t.playlists?.items??[],a=t.playlists?.total??0,s=t.playlists?.offset??0;this.playlists.update(h=>[...h,...n]),this.playlistsPagination.set({offset:s+n.length,total:a,hasMore:s+n.length<a});break}}}goBack(){window.history.back()}toggleMenu(){this.navState.toggleHamburger()}getTabCount(e){switch(e){case"all":return 0;case"albums":return this.albumsPagination().total;case"artists":return this.artistsPagination().total;case"tracks":return this.tracksPagination().total;case"playlists":return this.playlistsPagination().total}}loadRecentSearches(){try{let e=localStorage.getItem($);e&&this.recentSearches.set(JSON.parse(e))}catch{}}addToRecentSearches(e){let t=e.trim();if(!t)return;let a=this.recentSearches().filter(h=>h.toLowerCase()!==t.toLowerCase()),s=[t,...a].slice(0,de);this.recentSearches.set(s);try{localStorage.setItem($,JSON.stringify(s))}catch{}}clearRecentSearches(){this.recentSearches.set([]);try{localStorage.removeItem($)}catch{}}isTrackHiRes(e){return e.hires_streamable||e.hires||e.maximum_bit_depth!==void 0&&e.maximum_bit_depth>16}isTrackPlaying(e){let t=this.playerState.currentPlayingTrackId(),n=this.playerState.currentTrack();return(t===e.id||n?.id===e.id)&&this.playerState.isPlaying()}playTrack(e){this.playerState.currentTrack.set(e),console.log("Playing track:",e.title)}playAlbum(e){console.log("Playing album:",e.title)}playPlaylist(e){console.log("Playing playlist:",e.name)}openTrackMenu(e){this.contextMenu.openTrackMenu(e.event,e.track,{onPlay:()=>this.playTrack(e.track),onAddToQueue:()=>console.log("Add to queue:",e.track.title)})}fetchRatingsForAlbums(e){if(!e||e.length===0)return;let t=e.filter(n=>n.id&&n.title).map(n=>({albumId:n.id.toString(),artist:n.artist?.name??"",title:n.title}));t.length>0&&this.ratingService.fetchRatings(t)}formatDuration=rt;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=W({type:i,selectors:[["app-search"]],viewQuery:function(t,n){if(t&1&&J(yt,5),t&2){let a;X(a=Z())&&(n.searchInputEl=a.first)}},decls:22,vars:9,consts:[["searchInput",""],[1,"search-page","bg-bg-primary","min-h-screen","pb-28"],[1,"sticky","top-0","z-[60]","bg-bg-primary/95","backdrop-blur-sm","border-b","border-border-subtle","safe-area-top"],[1,"p-4"],[1,"flex","items-center","gap-3","mb-4"],["aria-label","Men\xFC",1,"flex-shrink-0","w-10","h-10","rounded-lg","bg-bg-card","border","border-border-subtle","flex","items-center","justify-center","hover:bg-bg-card-hover","transition-colors",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-5","h-5","text-text-primary"],["d","M4 6h16M4 12h16M4 18h16","stroke-linecap","round"],[1,"flex-1","relative"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"absolute","left-3","top-1/2","-translate-y-1/2","w-5","h-5","text-text-muted","pointer-events-none"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","K\xFCnstler, Alben, Titel...",1,"w-full","py-2.5","pl-10","pr-10","bg-bg-card","border","border-border-subtle","rounded-lg","text-text-primary","placeholder:text-text-muted","focus:outline-none","focus:border-accent-qobuz","transition-colors",3,"ngModelChange","keydown.escape","ngModel"],[1,"absolute","right-3","top-1/2","-translate-y-1/2","text-text-muted","hover:text-text-primary","transition-colors"],["title","Zur\xFCck",1,"flex-shrink-0","w-10","h-10","rounded-lg","bg-bg-card","border","border-border-subtle","flex","items-center","justify-center","text-text-secondary","hover:text-text-primary","hover:bg-bg-card-hover","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","gap-2","overflow-x-auto","scrollbar-hide","-mx-4","px-4"],["appInfiniteScroll","",1,"p-4",3,"scrolled","scrollThreshold","scrollDisabled"],[1,"space-y-6"],[1,"text-center","py-16","text-text-muted"],[1,"absolute","right-3","top-1/2","-translate-y-1/2","text-text-muted","hover:text-text-primary","transition-colors",3,"click"],[1,"flex-shrink-0","px-4","py-2","text-sm","rounded-full","border","transition-colors","whitespace-nowrap",3,"bg-accent-qobuz","text-white","border-accent-qobuz","bg-transparent","text-text-secondary","border-border-subtle","hover:border-border-accent"],[1,"flex-shrink-0","px-4","py-2","text-sm","rounded-full","border","transition-colors","whitespace-nowrap",3,"click"],[1,"ml-1","opacity-70"],[1,"mb-8"],[1,"text-center","py-12","text-text-muted"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-16","h-16","mx-auto","mb-4","opacity-30"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"text-lg","mb-2"],[1,"text-sm"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold"],[1,"text-sm","text-text-muted","hover:text-accent-qobuz","transition-colors",3,"click"],[1,"flex","flex-wrap","gap-2"],[1,"px-4","py-2","bg-bg-card","border","border-border-subtle","rounded-full","text-sm","hover:border-accent-qobuz","transition-colors","flex","items-center","gap-2"],[1,"px-4","py-2","bg-bg-card","border","border-border-subtle","rounded-full","text-sm","hover:border-accent-qobuz","transition-colors","flex","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","text-text-muted"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"h-6","w-20","bg-bg-secondary","rounded","animate-pulse","mb-4"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-3","sm:gap-4"],[1,"bg-bg-card","rounded-lg","overflow-hidden"],[1,"h-6","w-16","bg-bg-secondary","rounded","animate-pulse","mb-4"],[1,"space-y-2"],[1,"flex","items-center","gap-3","p-3"],[1,"aspect-square","bg-bg-secondary","animate-pulse"],[1,"p-3"],[1,"h-4","bg-bg-secondary","rounded","animate-pulse","mb-2"],[1,"h-3","bg-bg-secondary","rounded","animate-pulse","w-2/3"],[1,"w-10","h-10","bg-bg-secondary","rounded","animate-pulse"],[1,"flex-1"],[1,"h-4","bg-bg-secondary","rounded","animate-pulse","mb-2","w-3/4"],[1,"h-3","bg-bg-secondary","rounded","animate-pulse","w-1/2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-12","h-12","mx-auto","mb-4","opacity-50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","items-center","justify-center","gap-3","py-8","text-text-muted"],[1,"text-sm","text-accent-qobuz","hover:underline"],[3,"album"],[1,"text-sm","text-accent-qobuz","hover:underline",3,"click"],[3,"play","album"],[3,"artist"],[1,"space-y-1"],[3,"track","trackNumber","showNumber","showArt","showArtist","showAlbum","showQuality","showMenu","isPlaying"],[3,"play","menu","track","trackNumber","showNumber","showArt","showArtist","showAlbum","showQuality","showMenu","isPlaying"],[3,"playlist"],[3,"play","playlist"],[1,"grid","grid-cols-2","md:grid-cols-4","lg:grid-cols-5","gap-3","sm:gap-4"],[3,"album","showYear"],[1,"text-center","py-8","text-text-muted"],[3,"play","album","showYear"],[3,"playlist","showOwner"],[3,"play","playlist","showOwner"],[1,"w-5","h-5","border-2","border-border-accent","border-t-accent-qobuz","rounded-full","animate-spin"]],template:function(t,n){if(t&1){let a=C();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),b("click",function(){return _(a),u(n.toggleMenu())}),w(),o(5,"svg",6),f(6,"path",7),r()(),P(),o(7,"div",8),w(),o(8,"svg",9),f(9,"path",10),r(),P(),o(10,"input",11,0),nt("ngModelChange",function(h){return _(a),it(n.query,h)||(n.query=h),u(h)}),b("ngModelChange",function(h){return _(a),u(n.onSearch(h))})("keydown.escape",function(){return _(a),u(n.clearSearch())}),r(),d(12,kt,3,0,"button",12),r(),o(13,"button",13),b("click",function(){return _(a),u(n.goBack())}),w(),o(14,"svg",14),f(15,"path",15),r()()(),d(16,Pt,3,0,"div",16),r()(),P(),o(17,"div",17),b("scrolled",function(){return _(a),u(n.loadMore())}),d(18,At,8,1),d(19,It,11,2,"div",18),d(20,Rt,7,1,"div",19),d(21,se,6,6),r()()}t&2&&(l(10),et("ngModel",n.query),l(2),m(n.query?12:-1),l(4),m(n.hasResults()?16:-1),l(),v("scrollThreshold",500)("scrollDisabled",!n.canLoadMore()),l(),m(!n.query&&!n.loading()?18:-1),l(),m(n.loading()?19:-1),l(),m(n.query&&!n.loading()&&!n.hasResults()?20:-1),l(),m(!n.loading()&&n.hasResults()?21:-1))},dependencies:[at,_t,ct,dt,mt,ht,ft,bt,Ct,gt],styles:[".scrollbar-hide[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.scrollbar-hide[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.safe-area-top[_ngcontent-%COMP%]{padding-top:env(safe-area-inset-top,0)}"]})};export{xt as SearchComponent};
