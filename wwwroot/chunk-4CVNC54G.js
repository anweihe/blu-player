import{a as I,b as z,e as P,h as H}from"./chunk-5GC77CUC.js";import{a as V}from"./chunk-GT7YEPYQ.js";import{$b as K,Bb as a,Cb as S,Fb as T,Gb as k,Hb as E,Ja as l,S as y,Va as M,X as h,Y as f,Z as d,_ as m,db as u,eb as x,ec as A,ia as g,ib as C,jb as e,kb as t,lb as r,pb as _,rb as b,tb as p,zb as v}from"./chunk-TWVQ6WYG.js";function D(n,o){n&1&&(d(),e(0,"svg",48),r(1,"path",52)(2,"line",53),t())}function q(n,o){n&1&&(d(),e(0,"svg",48),r(1,"path",54)(2,"circle",7),t())}function G(n,o){n&1&&r(0,"div",51)}function N(n,o){n&1&&(d(),e(0,"svg",48),r(1,"path",55)(2,"polyline",56)(3,"polyline",57),t())}function F(n,o){if(n&1){let i=_();e(0,"div",38)(1,"div")(2,"label",44),a(3,"API Key"),t(),e(4,"div",45)(5,"input",46),E("ngModelChange",function(c){h(i);let w=p();return k(w.apiKeyInput,c)||(w.apiKeyInput=c),f(c)}),t(),e(6,"button",47),b("click",function(){h(i);let c=p();return f(c.showApiKey.set(!c.showApiKey()))}),u(7,D,3,0,":svg:svg",48)(8,q,3,0,":svg:svg",48),t()(),e(9,"p",49),a(10," Der Key wird verschl\xFCsselt gespeichert und ist danach nicht mehr einsehbar. "),t()(),e(11,"button",50),b("click",function(){h(i);let c=p();return f(c.saveApiKey())}),u(12,G,1,0,"div",51)(13,N,4,0,":svg:svg",48),e(14,"span"),a(15,"Speichern"),t()()()}if(n&2){let i=p();l(5),C("type",i.showApiKey()?"text":"password"),T("ngModel",i.apiKeyInput),l(2),x(i.showApiKey()?7:8),l(4),C("disabled",i.saving()||!i.apiKeyInput.trim()),l(),x(i.saving()?12:13)}}function j(n,o){if(n&1){let i=_();e(0,"div",39)(1,"div",22)(2,"div",58),d(),e(3,"svg",48),r(4,"path",59)(5,"polyline",60),t(),m(),e(6,"span",61),a(7,"API Key konfiguriert"),t()(),e(8,"span",62),a(9,"::::::::::::::::::"),t()(),e(10,"button",63),b("click",function(){h(i);let c=p();return f(c.deleteApiKey())}),d(),e(11,"svg",64),r(12,"polyline",65)(13,"path",66)(14,"line",67)(15,"line",68),t(),m(),e(16,"span"),a(17,"L\xF6schen"),t()()()}}function B(n,o){n&1&&(d(),e(0,"svg",48),r(1,"path",59)(2,"polyline",60),t())}function O(n,o){n&1&&(d(),e(0,"svg",48),r(1,"circle",70)(2,"line",71)(3,"line",72),t())}function R(n,o){if(n&1&&(e(0,"div",69),u(1,B,3,0,":svg:svg",48)(2,O,4,0,":svg:svg",48),e(3,"span"),a(4),t()()),n&2){let i=p();v("bg-accent-qobuz",i.toastType()==="success")("bg-danger",i.toastType()==="error")("text-white",!0),l(),x(i.toastType()==="success"?1:2),l(3),S(i.toastMessage())}}var L=class n{http=y(A);navState=y(V);isConfigured=g(!1);saving=g(!1);showApiKey=g(!1);toastMessage=g(null);toastType=g("success");apiKeyInput="";ngOnInit(){this.navState.usePreset("hidden"),this.checkApiKeyStatus()}toggleMenu(){this.navState.toggleHamburger()}checkApiKeyStatus(){this.http.get("/api/settings?handler=mistralApiKey").subscribe({next:o=>{o.success&&o.data&&this.isConfigured.set(o.data.isConfigured)},error:()=>this.showToast("Fehler beim Laden des Status","error")})}saveApiKey(){let o=this.apiKeyInput.trim();o&&(this.saving.set(!0),this.http.put("/api/settings?handler=mistralApiKey",{apiKey:o}).subscribe({next:i=>{this.saving.set(!1),i.success?(this.apiKeyInput="",this.isConfigured.set(!0),this.showToast("API Key erfolgreich gespeichert","success")):this.showToast(i.error||"Fehler beim Speichern","error")},error:()=>{this.saving.set(!1),this.showToast("Verbindungsfehler","error")}}))}deleteApiKey(){confirm("API Key wirklich l\xF6schen?")&&this.http.delete("/api/settings?handler=mistralApiKey").subscribe({next:o=>{o.success?(this.isConfigured.set(!1),this.showToast("API Key gel\xF6scht","success")):this.showToast(o.error||"Fehler beim L\xF6schen","error")},error:()=>this.showToast("Verbindungsfehler","error")})}showToast(o,i){this.toastMessage.set(o),this.toastType.set(i),setTimeout(()=>this.toastMessage.set(null),3e3)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=M({type:n,selectors:[["app-settings"]],decls:61,vars:13,consts:[[1,"settings-page","min-h-screen","bg-bg-primary","pb-24"],[1,"sticky","top-0","z-[60]","bg-bg-primary/95","backdrop-blur","border-b","border-border-subtle","safe-area-top"],[1,"flex","items-center","gap-3","px-4","py-4"],["aria-label","Men\xFC",1,"w-10","h-10","rounded-lg","bg-bg-card","border","border-border-subtle","flex","items-center","justify-center","hover:bg-bg-card-hover","transition-colors",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-5","h-5","text-text-primary"],["d","M4 6h16M4 12h16M4 18h16","stroke-linecap","round"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-6","h-6","text-accent-qobuz"],["cx","12","cy","12","r","3"],["d","M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"],[1,"text-xl","font-bold"],[1,"p-4","md:p-6","max-w-2xl","mx-auto"],[1,"mb-8"],[1,"flex","items-center","gap-3","mb-4"],[1,"w-10","h-10","rounded-lg","bg-accent-qobuz/10","flex","items-center","justify-center"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5",1,"w-5","h-5","text-accent-qobuz"],["d","M12 2L2 7l10 5 10-5-10-5z"],["d","M2 17l10 5 10-5"],["d","M2 12l10 5 10-5"],[1,"text-lg","font-semibold"],[1,"text-sm","text-text-muted"],[1,"bg-bg-card","border","border-border-subtle","rounded-xl","overflow-hidden"],[1,"flex","items-center","justify-between","p-4","border-b","border-border-subtle"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-lg","bg-orange-500/10","flex","items-center","justify-center","text-orange-500"],["viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["x","2","y","2","width","6","height","6","rx","1"],["x","9","y","2","width","6","height","6","rx","1"],["x","16","y","2","width","6","height","6","rx","1"],["x","2","y","9","width","6","height","6","rx","1"],["x","16","y","9","width","6","height","6","rx","1"],["x","2","y","16","width","6","height","6","rx","1"],["x","9","y","16","width","6","height","6","rx","1"],["x","16","y","16","width","6","height","6","rx","1"],[1,"font-medium"],[1,"block","text-xs","text-text-muted"],[1,"flex","items-center","gap-2","text-sm"],[1,"w-2","h-2","rounded-full"],[1,"p-4"],[1,"space-y-4"],[1,"flex","items-center","justify-between"],[1,"opacity-50"],[1,"w-10","h-10","rounded-lg","bg-bg-card","border","border-border-subtle","flex","items-center","justify-center"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-5","h-5","text-text-muted"],[1,"fixed","bottom-24","left-1/2","-translate-x-1/2","px-4","py-3","rounded-lg","shadow-lg","flex","items-center","gap-2","text-sm","z-50","animate-fade-in",3,"bg-accent-qobuz","bg-danger","text-white"],[1,"block","text-sm","font-medium","mb-2"],[1,"relative"],["placeholder","xxxxxxxxxxxxxxxx","autocomplete","off","spellcheck","false",1,"w-full","px-4","py-3","bg-bg-secondary","border","border-border-subtle","rounded-lg","text-sm","focus:outline-none","focus:border-accent-qobuz","transition-colors","pr-12",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","right-3","top-1/2","-translate-y-1/2","text-text-muted","hover:text-text-primary","transition-colors",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-5","h-5"],[1,"mt-2","text-xs","text-text-muted"],["type","button",1,"w-full","flex","items-center","justify-center","gap-2","px-4","py-3","bg-accent-qobuz","text-white","rounded-lg","font-medium","hover:opacity-90","transition-opacity","disabled:opacity-50",3,"click","disabled"],[1,"w-5","h-5","border-2","border-white/30","border-t-white","rounded-full","animate-spin"],["d","M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"],["x1","1","y1","1","x2","23","y2","23"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["d","M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"],["points","17 21 17 13 7 13 7 21"],["points","7 3 7 8 15 8"],[1,"flex","items-center","gap-2","text-accent-qobuz"],["d","M22 11.08V12a10 10 0 11-5.93-9.14"],["points","22 4 12 14.01 9 11.01"],[1,"text-sm","font-medium"],[1,"text-text-muted","text-sm","tracking-widest"],["type","button",1,"flex","items-center","gap-2","px-4","py-2","text-danger","hover:bg-danger/10","rounded-lg","transition-colors","text-sm",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-4","h-4"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],[1,"fixed","bottom-24","left-1/2","-translate-x-1/2","px-4","py-3","rounded-lg","shadow-lg","flex","items-center","gap-2","text-sm","z-50","animate-fade-in"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"]],template:function(i,s){i&1&&(e(0,"div",0)(1,"header",1)(2,"div",2)(3,"button",3),b("click",function(){return s.toggleMenu()}),d(),e(4,"svg",4),r(5,"path",5),t()(),e(6,"svg",6),r(7,"circle",7)(8,"path",8),t(),m(),e(9,"h1",9),a(10,"Einstellungen"),t()()(),e(11,"main",10)(12,"section",11)(13,"div",12)(14,"div",13),d(),e(15,"svg",14),r(16,"path",15)(17,"path",16)(18,"path",17),t()(),m(),e(19,"div")(20,"h2",18),a(21,"KI-Integration"),t(),e(22,"p",19),a(23,"Verbinde externe KI-Dienste"),t()()(),e(24,"div",20)(25,"div",21)(26,"div",22)(27,"div",23),d(),e(28,"svg",24),r(29,"rect",25)(30,"rect",26)(31,"rect",27)(32,"rect",28)(33,"rect",29)(34,"rect",30)(35,"rect",31)(36,"rect",32),t()(),m(),e(37,"div")(38,"span",33),a(39,"Mistral AI"),t(),e(40,"span",34),a(41,"Large Language Model"),t()()(),e(42,"div",35),r(43,"span",36),e(44,"span"),a(45),t()()(),e(46,"div",37),u(47,F,16,5,"div",38)(48,j,18,0,"div",39),t()()(),e(49,"section",40)(50,"div",12)(51,"div",41),d(),e(52,"svg",42),r(53,"circle",7)(54,"path",8),t()(),m(),e(55,"div")(56,"h2",18),a(57,"Weitere Einstellungen"),t(),e(58,"p",19),a(59,"Demn\xE4chst verf\xFCgbar"),t()()()()(),u(60,R,5,8,"div",43),t()),i&2&&(l(24),v("border-accent-qobuz",s.isConfigured()),l(18),v("text-accent-qobuz",s.isConfigured())("text-text-muted",!s.isConfigured()),l(),v("bg-accent-qobuz",s.isConfigured())("bg-text-muted",!s.isConfigured()),l(2),S(s.isConfigured()?"Konfiguriert":"Nicht konfiguriert"),l(2),x(s.isConfigured()?48:47),l(13),x(s.toastMessage()?60:-1))},dependencies:[K,H,I,z,P],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translate(-50%,10px)}to{opacity:1;transform:translate(-50%)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .2s ease-out}"]})};export{L as SettingsComponent};
