import{a as z,b as L,c as E,d as A,e as V,f as q,g as T,h as Q}from"./chunk-4XW53KSD.js";import{c as P,e as y,f as S,l as O}from"./chunk-GYSMW3IL.js";import{Cb as x,Db as C,Eb as M,Ha as d,R as g,Ta as _,Y as a,Z as c,ab as m,bb as u,fb as b,gb as e,ha as f,hb as n,ib as r,ob as w,qb as k,yb as l,zb as v}from"./chunk-63K3V35C.js";function G(i,o){if(i&1&&(e(0,"div",11),a(),e(1,"svg",28),r(2,"path",29),n(),c(),e(3,"span"),l(4),n()()),i&2){let p=k();d(4),v(p.auth.authError())}}function H(i,o){i&1&&(a(),e(0,"svg",23),r(1,"path",30),n())}function N(i,o){i&1&&(a(),e(0,"svg",23),r(1,"path",31)(2,"path",32),n())}function B(i,o){i&1&&(r(0,"div",33),e(1,"span"),l(2,"Anmelden..."),n())}function I(i,o){i&1&&(a(),e(0,"svg",23),r(1,"path",34),n(),c(),e(2,"span"),l(3,"Anmelden"),n())}var j=class i{auth=g(O);router=g(y);route=g(P);email="";password="";showPassword=f(!1);isAddingAccount=f(!1);returnUrl="/qobuz/browse";ngOnInit(){this.route.queryParams.subscribe(o=>{o.returnUrl&&(this.returnUrl=o.returnUrl),o.addAccount&&this.isAddingAccount.set(!0)}),this.auth.isLoggedIn()&&!this.isAddingAccount()&&this.router.navigate([this.returnUrl])}togglePasswordVisibility(){this.showPassword.update(o=>!o)}onLogin(){!this.email||!this.password||this.auth.login(this.email,this.password).subscribe(o=>{o&&this.router.navigate([this.returnUrl])})}static \u0275fac=function(p){return new(p||i)};static \u0275cmp=_({type:i,selectors:[["app-qobuz-login"]],decls:43,vars:8,consts:[[1,"min-h-screen","bg-bg-primary","flex","items-center","justify-center","p-4"],[1,"login-card"],["routerLink","/",1,"back-link","mb-4","inline-flex","items-center","gap-2","text-text-secondary","hover:text-text-primary","transition-colors"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-sm"],[1,"login-header"],[1,"qobuz-logo-container"],["viewBox","0 0 100 100","fill","none",1,"qobuz-logo"],["cx","50","cy","50","r","45","stroke","currentColor","stroke-width","3"],["d","M35 65V35L70 50L35 65Z","fill","currentColor"],[1,"alert","alert-error"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email"],[1,"input-wrapper"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"input-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["type","email","id","email","name","email","placeholder","ihre@email.de","required","","autocomplete","email",3,"ngModelChange","ngModel"],["for","password"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],["id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","autocomplete","current-password",3,"ngModelChange","type","ngModel"],["type","button","tabindex","-1",1,"password-toggle",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["type","submit",1,"btn-login",3,"disabled"],[1,"login-footer"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","inline-block","mr-1","opacity-60"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"spinner"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"]],template:function(p,t){p&1&&(e(0,"div",0)(1,"div",1)(2,"a",2),a(),e(3,"svg",3),r(4,"path",4),n(),c(),e(5,"span",5),l(6,"Zur\xFCck"),n()(),e(7,"div",6)(8,"div",7),a(),e(9,"svg",8),r(10,"circle",9)(11,"path",10),n()(),c(),e(12,"h2"),l(13),n(),e(14,"p"),l(15,"Hi-Res Audio Streaming"),n()(),m(16,G,5,1,"div",11),e(17,"form",12),w("ngSubmit",function(){return t.onLogin()}),e(18,"div",13)(19,"label",14),l(20,"E-Mail"),n(),e(21,"div",15),a(),e(22,"svg",16),r(23,"path",17),n(),c(),e(24,"input",18),M("ngModelChange",function(s){return C(t.email,s)||(t.email=s),s}),n()()(),e(25,"div",13)(26,"label",19),l(27,"Passwort"),n(),e(28,"div",15),a(),e(29,"svg",16),r(30,"path",20),n(),c(),e(31,"input",21),M("ngModelChange",function(s){return C(t.password,s)||(t.password=s),s}),n(),e(32,"button",22),w("click",function(){return t.togglePasswordVisibility()}),m(33,H,2,0,":svg:svg",23)(34,N,3,0,":svg:svg",23),n()()(),e(35,"button",24),m(36,B,3,0)(37,I,4,0),n()(),e(38,"div",25)(39,"p"),a(),e(40,"svg",26),r(41,"path",27),n(),l(42," Ihre Anmeldedaten werden sicher \xFCbertragen und nicht gespeichert. "),n()()()()),p&2&&(d(13),v(t.isAddingAccount()?"Weiteres Konto hinzuf\xFCgen":"Bei Qobuz anmelden"),d(3),u(t.auth.authError()?16:-1),d(8),x("ngModel",t.email),d(7),b("type",t.showPassword()?"text":"password"),x("ngModel",t.password),d(2),u(t.showPassword()?33:34),d(2),b("disabled",t.auth.isAuthenticating()||!t.email||!t.password),d(),u(t.auth.isAuthenticating()?36:37))},dependencies:[Q,q,z,L,E,T,V,A,S],styles:[".login-card[_ngcontent-%COMP%]{background:var(--color-bg-card);border:1px solid var(--color-border-subtle);border-radius:var(--radius-lg);padding:32px;width:100%;max-width:420px;box-shadow:var(--shadow-card)}.back-link[_ngcontent-%COMP%]{display:inline-flex}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:28px}.qobuz-logo-container[_ngcontent-%COMP%]{width:72px;height:72px;margin:0 auto 16px;background:linear-gradient(135deg,var(--color-accent-qobuz),#1ed760);border-radius:50%;padding:2px}.qobuz-logo[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;background:var(--color-bg-card);border-radius:50%;padding:12px}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:700;margin:0 0 8px;color:var(--color-text-primary)}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-secondary);margin:0}.alert[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:10px;padding:12px 16px;margin-bottom:20px;border-radius:var(--radius-md);font-size:.875rem}.alert-error[_ngcontent-%COMP%]{background:#ef44441a;border:1px solid rgba(239,68,68,.2);color:#fca5a5}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.5px}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-icon[_ngcontent-%COMP%]{position:absolute;left:14px;width:18px;height:18px;color:var(--color-text-muted);pointer-events:none}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 14px 14px 44px;background:var(--color-bg-secondary);border:1px solid var(--color-border-accent);border-radius:var(--radius-md);color:var(--color-text-primary);font-size:.95rem;transition:all .15s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-accent-qobuz);box-shadow:0 0 0 3px #1db95426}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .input-icon[_ngcontent-%COMP%], .input-wrapper[_ngcontent-%COMP%]:has(input:focus)   .input-icon[_ngcontent-%COMP%]{color:var(--color-accent-qobuz)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-muted)}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:10px;padding:6px;background:none;border:none;color:var(--color-text-muted);cursor:pointer;transition:color .15s ease}.password-toggle[_ngcontent-%COMP%]:hover{color:var(--color-text-primary)}.btn-login[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;padding:16px;background:linear-gradient(135deg,var(--color-accent-qobuz),#1ed760);border:none;border-radius:var(--radius-md);color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;margin-top:8px}.btn-login[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #1db95459}.btn-login[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-login[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.login-footer[_ngcontent-%COMP%]{margin-top:24px;padding-top:20px;border-top:1px solid var(--color-border-subtle);text-align:center}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-muted);line-height:1.5}"]})};export{j as QobuzLoginComponent};
