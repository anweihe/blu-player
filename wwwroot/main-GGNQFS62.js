import{a as I}from"./chunk-G3WTLEVW.js";import{a as ae}from"./chunk-Q6FVMT4J.js";import{a as V}from"./chunk-N2MVT66X.js";import{g as Me}from"./chunk-5WOICLSI.js";import"./chunk-UMWSTQS6.js";import{e as Pe}from"./chunk-TB3BYDLV.js";import{a as be,c as Ce,d as R,e as oe,f as we,g as Se,h as ke,i as Ee,j as F}from"./chunk-F3JCDRW3.js";import{$a as s,Ab as z,G as me,H as pe,I as ue,Ja as T,M as _e,Mb as L,R as h,Sa as _,Sb as he,Ta as x,Tb as ye,Ua as ge,Va as H,W as p,Wa as N,X as u,Xa as B,Y as g,Ya as r,Z as k,Za as l,_a as f,ab as m,bb as w,cb as C,db as ne,eb as b,f as ce,fb as E,ga as xe,gb as c,ha as M,ib as $,jb as j,kb as O,lb as D,mb as y,nb as fe,ob as d,pb as P,qb as S,ta as te,ua as K,v as de,w as se,wa as q,xa as a,xb as ve,yb as ie}from"./chunk-F7VV2WDX.js";var Te=[{path:"",loadComponent:()=>import("./chunk-JGRAHAOC.js").then(t=>t.HomeComponent)},{path:"qobuz",loadChildren:()=>import("./chunk-HMAZSFDZ.js").then(t=>t.QOBUZ_ROUTES)},{path:"tunein",loadComponent:()=>import("./chunk-KWPCFI52.js").then(t=>t.TuneInComponent)},{path:"radioparadise",loadComponent:()=>import("./chunk-NX3SXBLY.js").then(t=>t.RadioParadiseComponent)},{path:"players",loadComponent:()=>import("./chunk-BDZBJD7D.js").then(t=>t.PlayersComponent)},{path:"settings",loadComponent:()=>import("./chunk-RBC7XBNM.js").then(t=>t.SettingsComponent)},{path:"**",redirectTo:""}];var Ve=(t,n)=>{if(!t.url.includes("/Qobuz")&&!t.url.includes("/api/qobuz"))return n(t);let i=h(F).getAuthHeaders();if(!i["X-Auth-Token"]||t.headers.has("X-Auth-Token"))return n(t);let o=t.clone({setHeaders:i});return n(o)};var ze={providers:[xe(),Se(Te,ke(),Ee()),he(ye([Ve]))]};var re=class t{bluesoundApi=h(ae);playerState=h(V);destroy$=new ce;pollingSubscription;POLLING_INTERVAL=1e3;isPolling=M(!1);lastPoll=M(null);startPolling(){this.stopPolling(),this.isPolling.set(!0),this.pollingSubscription=de(this.POLLING_INTERVAL).pipe(pe(this.destroy$),se(()=>this.playerState.playerMode()==="bluesound"),se(()=>!!this.playerState.selectedPlayer()),me(()=>{let n=this.playerState.selectedPlayer();return n?this.bluesoundApi.getStatus(n.ipAddress):[]}),ue(()=>this.lastPoll.set(new Date))).subscribe(n=>{n&&this.playerState.updatePlaybackStatus(n)})}stopPolling(){this.pollingSubscription&&(this.pollingSubscription.unsubscribe(),this.pollingSubscription=void 0),this.isPolling.set(!1)}pollOnce(){let n=this.playerState.selectedPlayer();n&&this.bluesoundApi.getStatus(n.ipAddress).subscribe(e=>{e&&this.playerState.updatePlaybackStatus(e),this.lastPoll.set(new Date)})}refreshPlayers(){this.bluesoundApi.refreshPlayers().subscribe(n=>{this.playerState.players.set(n)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.stopPolling()}static \u0275fac=function(e){return new(e||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})};var Le=(t,n)=>n.id;function He(t,n){t&1&&(s(0,"div",15),g(),s(1,"svg",21),w(2,"path",23),m()())}function Ne(t,n){t&1&&(s(0,"div",16),w(1,"div",24),s(2,"span",25),d(3,"Bluesound Player"),m(),w(4,"div",24),m())}function qe(t,n){t&1&&(s(0,"div",31),g(),s(1,"svg",21),w(2,"path",23),m()())}function De(t,n){if(t&1){let e=C();s(0,"button",8),E("click",function(){p(e);let o=c().$implicit,v=c(2);return u(v.selectPlayer(o))}),s(1,"div",9),g(),s(2,"svg",10),w(3,"path",27),m()(),k(),s(4,"div",28)(5,"p",29),d(6),m(),s(7,"p",30),d(8),m()(),_(9,qe,3,0,"div",31),m()}if(t&2){let e=c().$implicit,i=c(2);y("bg-accent-qobuz/10",i.isSelected(e))("border-accent-qobuz",i.isSelected(e))("border-2",i.isSelected(e))("bg-bg-card",!i.isSelected(e))("hover:bg-bg-card-hover",!i.isSelected(e)),a(),y("bg-accent-qobuz",i.isSelected(e))("text-white",i.isSelected(e))("bg-bg-secondary",!i.isSelected(e))("text-text-muted",!i.isSelected(e)),a(4),y("text-accent-qobuz",i.isSelected(e)),a(),S(" ",e.name," "),a(2),S(" ",i.getPlayerSubtitle(e)," "),a(),x(i.isSelected(e)?9:-1)}}function Be(t,n){if(t&1&&_(0,De,10,23,"button",26),t&2){let e=n.$implicit;x(e.isSecondaryStereoPairSpeaker?-1:0)}}function Ie(t,n){t&1&&(s(0,"div",17),g(),s(1,"svg",32),w(2,"path",33),m(),k(),s(3,"p",34),d(4,"Keine Player gefunden"),m(),s(5,"p",35),d(6,"Stellen Sie sicher, dass Ihre Bluesound Player eingeschaltet sind"),m()())}function je(t,n){t&1&&(s(0,"div",18),w(1,"div",36),s(2,"p",37),d(3,"Suche nach Playern..."),m()())}function Oe(t,n){if(t&1){let e=C();s(0,"div",0),E("click",function(){p(e);let o=c();return u(o.close())}),m(),s(1,"div",1)(2,"div",2)(3,"h2",3),d(4,"Wiedergabeger\xE4t"),m(),s(5,"button",4),E("click",function(){p(e);let o=c();return u(o.close())}),g(),s(6,"svg",5),w(7,"path",6),m()()(),k(),s(8,"div",7)(9,"button",8),E("click",function(){p(e);let o=c();return u(o.selectBrowser())}),s(10,"div",9),g(),s(11,"svg",10),w(12,"path",11),m()(),k(),s(13,"div",12)(14,"p",13),d(15," Dieser Browser "),m(),s(16,"p",14),d(17,"Wiedergabe auf diesem Ger\xE4t"),m()(),_(18,He,3,0,"div",15),m(),_(19,Ne,5,0,"div",16),H(20,Be,1,1,null,null,Le),_(22,Ie,7,0,"div",17),_(23,je,4,0,"div",18),m(),s(24,"div",19)(25,"button",20),E("click",function(){p(e);let o=c();return u(o.refreshPlayers())}),g(),s(26,"svg",21),w(27,"path",22),m(),d(28," Player aktualisieren "),m()()()}if(t&2){let e=c();a(9),y("bg-accent-qobuz/10",e.playerState.playerMode()==="browser")("border-accent-qobuz",e.playerState.playerMode()==="browser")("border-2",e.playerState.playerMode()==="browser")("bg-bg-card",e.playerState.playerMode()!=="browser")("hover:bg-bg-card-hover",e.playerState.playerMode()!=="browser"),a(),y("bg-accent-qobuz",e.playerState.playerMode()==="browser")("text-white",e.playerState.playerMode()==="browser")("bg-bg-secondary",e.playerState.playerMode()!=="browser")("text-text-muted",e.playerState.playerMode()!=="browser"),a(4),y("text-accent-qobuz",e.playerState.playerMode()==="browser"),a(4),x(e.playerState.playerMode()==="browser"?18:-1),a(),x(e.players().length>0?19:-1),a(),N(e.players()),a(2),x(e.players().length===0&&!e.isLoading()?22:-1),a(),x(e.isLoading()?23:-1),a(2),ne("disabled",e.isLoading()),a(),y("animate-spin",e.isLoading())}}var A=class t{playerState=h(V);playback=h(I);bluesoundApi=h(ae);isVisible=M(!1);isLoading=M(!1);players=M([]);ngOnInit(){this.loadPlayers()}open(){this.isVisible.set(!0),this.loadPlayers()}close(){this.isVisible.set(!1)}async selectBrowser(){await this.playback.switchToBrowser(),this.close()}async selectPlayer(n){await this.playback.switchToBluesound(n),this.close()}isSelected(n){return this.playerState.selectedPlayer()?.id===n.id}getPlayerSubtitle(n){return n.isStereoPaired?`${n.modelName} (Stereopaar)`:n.isGrouped?n.isMaster?`${n.groupName} (Master)`:`${n.groupName}`:n.modelName}loadPlayers(){this.isLoading.set(!0),this.bluesoundApi.getPlayers().subscribe({next:n=>{this.players.set(n),this.playerState.players.set(n),this.isLoading.set(!1)},error:()=>{this.isLoading.set(!1)}})}refreshPlayers(){this.isLoading.set(!0),this.bluesoundApi.refreshPlayers().subscribe({next:n=>{this.players.set(n),this.playerState.players.set(n),this.isLoading.set(!1)},error:()=>{this.isLoading.set(!1)}})}onEscapeKey(){this.isVisible()&&this.close()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=T({type:t,selectors:[["app-player-selector"]],hostBindings:function(e,i){e&1&&b("keydown.escape",function(){return i.onEscapeKey()},q)},decls:1,vars:1,consts:[[1,"fixed","inset-0","bg-black/50","z-[110]",3,"click"],[1,"fixed","bottom-0","left-0","right-0","bg-bg-primary","rounded-t-2xl","z-[111]","max-h-[80vh]","overflow-hidden","flex","flex-col","safe-area-bottom","animate-slide-up"],[1,"flex","items-center","justify-between","px-6","py-4","border-b","border-border-subtle"],[1,"text-lg","font-semibold"],[1,"w-8","h-8","rounded-full","hover:bg-bg-card","flex","items-center","justify-center","text-text-muted","hover:text-text-primary","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex-1","overflow-y-auto","p-4","space-y-2"],[1,"w-full","flex","items-center","gap-4","p-4","rounded-xl","transition-colors",3,"click"],[1,"w-12","h-12","rounded-xl","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"flex-1","text-left"],[1,"font-medium"],[1,"text-sm","text-text-muted"],[1,"w-6","h-6","rounded-full","bg-accent-qobuz","text-white","flex","items-center","justify-center"],[1,"flex","items-center","gap-3","py-3"],[1,"text-center","py-8","text-text-muted"],[1,"text-center","py-8"],[1,"p-4","border-t","border-border-subtle"],[1,"w-full","flex","items-center","justify-center","gap-2","py-3","text-sm","text-text-secondary","hover:text-text-primary","transition-colors",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"flex-1","h-px","bg-border-subtle"],[1,"text-xs","text-text-muted","uppercase","tracking-wide"],[1,"w-full","flex","items-center","gap-4","p-4","rounded-xl","transition-colors",3,"bg-accent-qobuz/10","border-accent-qobuz","border-2","bg-bg-card","hover:bg-bg-card-hover"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"],[1,"flex-1","text-left","min-w-0"],[1,"font-medium","truncate"],[1,"text-sm","text-text-muted","truncate"],[1,"w-6","h-6","rounded-full","bg-accent-qobuz","text-white","flex","items-center","justify-center","flex-shrink-0"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-12","h-12","mx-auto","mb-3","opacity-50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"],[1,"font-medium","mb-1"],[1,"text-sm"],[1,"w-8","h-8","border-2","border-accent-qobuz","border-t-transparent","rounded-full","animate-spin","mx-auto","mb-3"],[1,"text-text-muted"]],template:function(e,i){e&1&&_(0,Oe,29,27),e&2&&x(i.isVisible()?0:-1)},dependencies:[L],styles:[".safe-area-bottom[_ngcontent-%COMP%]{padding-bottom:env(safe-area-inset-bottom,0)}@keyframes _ngcontent-%COMP%_slide-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}.animate-slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-up .3s ease-out}"]})};var Fe=["playerSelector"];function Ge(t,n){if(t&1&&f(0,"img",6),t&2){let e=c();B("src",e.coverImage(),K)("alt",e.trackTitle())}}function Ae(t,n){t&1&&(r(0,"div",7),g(),r(1,"svg",28),f(2,"path",27),l()())}function Qe(t,n){t&1&&(g(),r(0,"svg",12),f(1,"path",29),l())}function $e(t,n){t&1&&(g(),r(0,"svg",13),f(1,"path",30),l())}function Re(t,n){t&1&&(g(),r(0,"svg",23),f(1,"path",31)(2,"path",32),l())}function Ye(t,n){t&1&&(g(),r(0,"svg",23),f(1,"path",33)(2,"path",31),l())}function Ke(t,n){t&1&&(g(),r(0,"svg",23),f(1,"path",34),l())}function Ue(t,n){t&1&&(g(),r(0,"svg",35),f(1,"path",36),l(),k(),r(2,"span",37),d(3,"Browser"),l())}function Xe(t,n){if(t&1&&(g(),r(0,"svg",38),f(1,"path",39),l(),k(),r(2,"span",40),d(3),l()),t&2){let e,i=c();a(3),P((e=i.playerState.selectedPlayer())==null?null:e.name)}}var U=class t{playerSelector;playerState=h(V);playback=h(I);hasContent=z(()=>!0);coverImage=z(()=>{let n=this.playerState.playbackStatus(),e=this.playerState.currentTrack();return n?.imageUrl||e?.album?.image?.large||e?.album?.image?.small});trackTitle=z(()=>{let n=this.playerState.playbackStatus(),e=this.playerState.currentTrack();return n?.title||e?.title});artistName=z(()=>{let n=this.playerState.playbackStatus(),e=this.playerState.currentTrack();return n?.artist||e?.performer?.name});openNowPlaying(){this.playerState.showNowPlaying()}togglePlayPause(n){n.stopPropagation(),this.playback.togglePlayPause()}skipNext(n){n.stopPropagation(),this.playback.skipNext()}async seekTo(n){let i=n.currentTarget.getBoundingClientRect(),o=(n.clientX-i.left)/i.width*100;await this.playback.seekToPercent(o)}toggleVolumePanel(){this.playerState.isVolumePanelVisible.update(n=>!n)}togglePlayerSelector(){this.playerSelector.open()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=T({type:t,selectors:[["app-global-player"]],viewQuery:function(e,i){if(e&1&&$(Fe,5),e&2){let o;j(o=O())&&(i.playerSelector=o.first)}},decls:39,vars:15,consts:[["playerSelector",""],[1,"global-player","fixed","bottom-0","left-0","right-0","bg-bg-card","border-t","border-border-subtle","z-50","safe-area-bottom"],[1,"progress-line","h-0.5","bg-bg-secondary"],[1,"h-full","bg-accent-qobuz","transition-all","duration-200"],[1,"flex","items-center","gap-3","p-3","cursor-pointer",3,"click"],[1,"w-12","h-12","rounded-md","bg-bg-secondary","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","flex","items-center","justify-center","text-text-muted"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","truncate","text-text-primary"],[1,"text-xs","text-text-muted","truncate"],[1,"w-10","h-10","rounded-full","bg-accent-qobuz","text-white","flex","items-center","justify-center","hover:opacity-90","transition-opacity",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","ml-0.5"],[1,"w-10","h-10","rounded-full","text-text-secondary","hover:text-text-primary","flex","items-center","justify-center","transition-colors","md:hidden",3,"click"],["d","M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"],[1,"hidden","md:flex","items-center","gap-4","px-4","pb-3","-mt-1"],[1,"text-xs","text-text-muted","w-12","text-right"],[1,"flex-1","h-1","bg-bg-secondary","rounded-full","cursor-pointer","group",3,"click"],[1,"h-full","bg-accent-qobuz","rounded-full","relative","group-hover:bg-accent-qobuz-hover","transition-colors"],[1,"absolute","right-0","top-1/2","-translate-y-1/2","w-3","h-3","bg-white","rounded-full","shadow","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"text-xs","text-text-muted","w-12"],[1,"w-8","h-8","text-text-secondary","hover:text-text-primary","flex","items-center","justify-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],[1,"flex","items-center","gap-2","px-3","py-1.5","rounded-lg","bg-bg-secondary","hover:bg-bg-card-hover","text-sm","transition-colors",3,"click"],[1,"hidden","xl:flex","items-center","gap-1.5","px-2","py-1","bg-accent-qobuz/10","rounded","text-xs","text-accent-qobuz","font-medium"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-3.5","h-3.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["d","M6 4h4v16H6V4zm8 0h4v16h-4V4z"],["d","M8 5v14l11-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.536 8.464a5 5 0 010 7.072M12 6.253v11.494m0 0c-.891 0-1.337-1.077-.707-1.707l4.707-4.707a1 1 0 000-1.414l-4.707-4.707c-.63-.63-1.077-.184-1.077.707"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"hidden","lg:inline"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","text-accent-qobuz"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"],[1,"hidden","lg:inline","truncate","max-w-[100px]"]],template:function(e,i){if(e&1){let o=C();r(0,"div",1)(1,"div",2),f(2,"div",3),l(),r(3,"div",4),b("click",function(){return p(o),u(i.openNowPlaying())}),r(4,"div",5),_(5,Ge,1,2,"img",6)(6,Ae,3,0,"div",7),l(),r(7,"div",8)(8,"p",9),d(9),l(),r(10,"p",10),d(11),l()(),r(12,"button",11),b("click",function(Y){return p(o),u(i.togglePlayPause(Y))}),_(13,Qe,2,0,":svg:svg",12)(14,$e,2,0,":svg:svg",13),l(),r(15,"button",14),b("click",function(Y){return p(o),u(i.skipNext(Y))}),g(),r(16,"svg",12),f(17,"path",15),l()()(),k(),r(18,"div",16)(19,"span",17),d(20),l(),r(21,"div",18),b("click",function(Y){return p(o),u(i.seekTo(Y))}),r(22,"div",19),f(23,"div",20),l()(),r(24,"span",21),d(25),l(),r(26,"button",22),b("click",function(){return p(o),u(i.toggleVolumePanel())}),_(27,Re,3,0,":svg:svg",23)(28,Ye,3,0,":svg:svg",23)(29,Ke,2,0,":svg:svg",23),l(),r(30,"button",24),b("click",function(){return p(o),u(i.togglePlayerSelector())}),_(31,Ue,4,0)(32,Xe,4,1),l(),r(33,"div",25),g(),r(34,"svg",26),f(35,"path",27),l(),d(36),l()()(),k(),f(37,"app-player-selector",null,0)}e&2&&(y("hidden",!i.hasContent()),a(2),D("width",i.playerState.progressPercent(),"%"),a(3),x(i.coverImage()?5:6),a(4),P(i.trackTitle()||"Kein Titel"),a(2),P(i.artistName()||"Unbekannter K\xFCnstler"),a(2),x(i.playerState.isPlaying()?13:14),a(7),P(i.playerState.formattedPosition()),a(2),D("width",i.playerState.progressPercent(),"%"),a(3),P(i.playerState.formattedDuration()),a(2),x(i.playerState.isMuted()||i.playerState.volume()===0?27:i.playerState.volume()<50?28:29),a(4),x(i.playerState.playerMode()==="browser"?31:32),a(5),S(" ",i.playerState.qualityLabel()," "))},dependencies:[L,A],styles:[".safe-area-bottom[_ngcontent-%COMP%]{padding-bottom:env(safe-area-inset-bottom,0)}.global-player[_ngcontent-%COMP%]{box-shadow:0 -4px 20px #00000026}"]})};var We=(t,n)=>n.id;function Ze(t,n){t&1&&(s(0,"span",14),d(1,"MP3"),m())}function Je(t,n){t&1&&(s(0,"span",14),d(1,"CD"),m())}function et(t,n){t&1&&(s(0,"span",15),d(1,"24bit"),m())}function tt(t,n){t&1&&(s(0,"span",15),d(1,"MAX"),m())}function nt(t,n){if(t&1&&(s(0,"span",19),d(1),m()),t&2){let e=c().$implicit;a(),S(" ",e.badge," ")}}function it(t,n){t&1&&(s(0,"div",20),g(),s(1,"svg",21),w(2,"path",22),m()())}function ot(t,n){if(t&1){let e=C();s(0,"button",12),E("click",function(){let o=p(e).$implicit,v=c(2);return u(v.selectQuality(o.id))}),s(1,"div",13),_(2,Ze,2,0,"span",14)(3,Je,2,0,"span",14)(4,et,2,0,"span",15)(5,tt,2,0,"span",15),m(),s(6,"div",16)(7,"div",17)(8,"p",18),d(9),m(),_(10,nt,2,1,"span",19),m(),s(11,"p",4),d(12),m()(),_(13,it,3,0,"div",20),m()}if(t&2){let e,i=n.$implicit,o=c(2);y("bg-accent-qobuz/10",o.isSelected(i.id))("border-accent-qobuz",o.isSelected(i.id))("border-2",o.isSelected(i.id))("bg-bg-card",!o.isSelected(i.id))("hover:bg-bg-card-hover",!o.isSelected(i.id)),a(),y("bg-accent-qobuz",o.isSelected(i.id))("text-white",o.isSelected(i.id))("bg-bg-secondary",!o.isSelected(i.id))("text-text-muted",!o.isSelected(i.id)),a(),x((e=i.id)===5?2:e===6?3:e===7?4:e===27?5:-1),a(6),y("text-accent-qobuz",o.isSelected(i.id)),a(),S(" ",i.label," "),a(),x(i.badge?10:-1),a(2),P(i.description),a(),x(o.isSelected(i.id)?13:-1)}}function at(t,n){if(t&1){let e=C();s(0,"div",0),E("click",function(){p(e);let o=c();return u(o.close())}),m(),s(1,"div",1)(2,"div",2)(3,"div")(4,"h2",3),d(5,"Streaming-Qualit\xE4t"),m(),s(6,"p",4),d(7,"\xC4nderungen gelten ab dem n\xE4chsten Track"),m()(),s(8,"button",5),E("click",function(){p(e);let o=c();return u(o.close())}),g(),s(9,"svg",6),w(10,"path",7),m()()(),k(),s(11,"div",8),H(12,ot,14,25,"button",9,We),m(),s(14,"div",10)(15,"p",11),d(16," H\xF6here Qualit\xE4t ben\xF6tigt mehr Bandbreite und Speicher "),m()()()}if(t&2){let e=c();a(12),N(e.qualityOptions)}}var X=class t{playerState=h(V);playback=h(I);isVisible=M(!1);qualityOptions=[{id:27,label:"Hi-Res Max",description:"FLAC 24-Bit bis 192 kHz",badge:"Beste Qualit\xE4t"},{id:7,label:"Hi-Res",description:"FLAC 24-Bit bis 96 kHz"},{id:6,label:"CD-Qualit\xE4t",description:"FLAC 16-Bit / 44.1 kHz"},{id:5,label:"MP3",description:"320 kbps"}];open(){this.isVisible.set(!0)}close(){this.isVisible.set(!1)}isSelected(n){return this.playerState.streamingQuality()===n}selectQuality(n){this.playback.setQuality(n),this.close()}onEscapeKey(){this.isVisible()&&this.close()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=T({type:t,selectors:[["app-quality-selector"]],hostBindings:function(e,i){e&1&&b("keydown.escape",function(){return i.onEscapeKey()},q)},decls:1,vars:1,consts:[[1,"fixed","inset-0","bg-black/50","z-[110]",3,"click"],[1,"fixed","bottom-0","left-0","right-0","bg-bg-primary","rounded-t-2xl","z-[111]","safe-area-bottom","animate-slide-up"],[1,"flex","items-center","justify-between","px-6","py-4","border-b","border-border-subtle"],[1,"text-lg","font-semibold"],[1,"text-sm","text-text-muted"],[1,"w-8","h-8","rounded-full","hover:bg-bg-card","flex","items-center","justify-center","text-text-muted","hover:text-text-primary","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-4","space-y-2"],[1,"w-full","flex","items-center","gap-4","p-4","rounded-xl","transition-colors",3,"bg-accent-qobuz/10","border-accent-qobuz","border-2","bg-bg-card","hover:bg-bg-card-hover"],[1,"px-6","pb-6","text-center"],[1,"text-xs","text-text-muted"],[1,"w-full","flex","items-center","gap-4","p-4","rounded-xl","transition-colors",3,"click"],[1,"w-12","h-12","rounded-xl","flex","items-center","justify-center","text-lg","font-bold"],[1,"text-sm"],[1,"text-xs"],[1,"flex-1","text-left"],[1,"flex","items-center","gap-2"],[1,"font-medium"],[1,"px-1.5","py-0.5","bg-accent-qobuz/20","text-accent-qobuz","text-xs","font-medium","rounded"],[1,"w-6","h-6","rounded-full","bg-accent-qobuz","text-white","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"]],template:function(e,i){e&1&&_(0,at,17,0),e&2&&x(i.isVisible()?0:-1)},dependencies:[L],styles:[".safe-area-bottom[_ngcontent-%COMP%]{padding-bottom:env(safe-area-inset-bottom,0)}@keyframes _ngcontent-%COMP%_slide-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}.animate-slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-up .3s ease-out}"]})};var rt=["popupPanel"],lt=["qualitySelector"],st=["playerSelector"],ct=t=>["/qobuz/artist",t],dt=(t,n)=>n.id;function mt(t,n){if(t&1){let e=C();r(0,"div",5),b("click",function(){p(e);let o=c();return u(o.close())}),l()}if(t&2){let e=c();y("opacity-100",!e.isClosing())("opacity-0",e.isClosing())}}function pt(t,n){t&1&&f(0,"div",11)}function ut(t,n){if(t&1&&(r(0,"span",12),d(1),l()),t&2){let e=c(2);a(),S(" ",e.playerState.queue().length," ")}}function _t(t,n){t&1&&f(0,"div",11)}function xt(t,n){if(t&1&&f(0,"img",17),t&2){let e=c(3);B("src",e.coverImage(),K)("alt",e.trackTitle())}}function gt(t,n){t&1&&(r(0,"div",18),g(),r(1,"svg",45),f(2,"path",46),l()())}function ft(t,n){if(t&1){let e=C();r(0,"a",47),b("click",function(){p(e);let o=c(3);return u(o.close())}),d(1),l()}if(t&2){let e=c(3);B("routerLink",ie(2,ct,e.artistId())),a(),S(" ",e.artistName()||"Unbekannter K\xFCnstler"," ")}}function vt(t,n){if(t&1&&(r(0,"p",22),d(1),l()),t&2){let e=c(3);a(),P(e.artistName()||"Unbekannter K\xFCnstler")}}function bt(t,n){if(t&1&&(r(0,"p",23),d(1),l()),t&2){let e=c(3);a(),P(e.albumTitle())}}function ht(t,n){t&1&&(g(),r(0,"svg",37),f(1,"path",48),l())}function yt(t,n){t&1&&(g(),r(0,"svg",38),f(1,"path",49),l())}function Ct(t,n){t&1&&(g(),r(0,"svg",42),f(1,"path",50),l(),d(2," Browser "))}function wt(t,n){if(t&1&&(g(),r(0,"svg",42),f(1,"path",51),l(),d(2)),t&2){let e,i=c(3);a(2),S(" ",(e=i.playerState.selectedPlayer())==null?null:e.name," ")}}function St(t,n){if(t&1){let e=C();r(0,"div",14)(1,"div",16),_(2,xt,1,2,"img",17)(3,gt,3,0,"div",18),l(),r(4,"div",19)(5,"h2",20),d(6),l(),_(7,ft,2,4,"a",21)(8,vt,2,1,"p",22),_(9,bt,2,1,"p",23),l(),r(10,"div",24)(11,"div",25),b("click",function(o){p(e);let v=c(2);return u(v.seekTo(o))}),r(12,"div",26),f(13,"div",27),l()(),r(14,"div",28)(15,"span"),d(16),l(),r(17,"span"),d(18),l()()(),r(19,"div",29)(20,"button",30),g(),r(21,"svg",31),f(22,"path",32),l()(),k(),r(23,"button",33),b("click",function(){p(e);let o=c(2);return u(o.skipPrevious())}),g(),r(24,"svg",34),f(25,"path",35),l()(),k(),r(26,"button",36),b("click",function(){p(e);let o=c(2);return u(o.togglePlayPause())}),_(27,ht,2,0,":svg:svg",37)(28,yt,2,0,":svg:svg",38),l(),r(29,"button",33),b("click",function(){p(e);let o=c(2);return u(o.skipNext())}),g(),r(30,"svg",34),f(31,"path",39),l()(),k(),r(32,"button",30),g(),r(33,"svg",31),f(34,"path",32),l()()(),k(),r(35,"div",40)(36,"button",41),b("click",function(){p(e);let o=c(2);return u(o.openQualitySelector())}),g(),r(37,"svg",42),f(38,"path",43),l(),d(39),l(),k(),r(40,"button",44),b("click",function(){p(e);let o=c(2);return u(o.openPlayerSelector())}),_(41,Ct,3,0)(42,wt,3,1),l()()()}if(t&2){let e=c(2);a(2),x(e.coverImage()?2:3),a(4),P(e.trackTitle()||"Kein Titel"),a(),x(e.artistId()?7:8),a(2),x(e.albumTitle()?9:-1),a(3),D("width",e.playerState.progressPercent(),"%"),a(4),P(e.playerState.formattedPosition()),a(2),P(e.playerState.formattedDuration()),a(9),x(e.playerState.isPlaying()?27:28),a(12),S(" ",e.playerState.qualityLabel()," "),a(2),x(e.playerState.playerMode()==="browser"?41:42)}}function kt(t,n){t&1&&(r(0,"div",52),g(),r(1,"svg",54),f(2,"path",55),l(),k(),r(3,"p"),d(4,"Warteschlange ist leer"),l()())}function Et(t,n){if(t&1&&f(0,"img",17),t&2){let e=c().$implicit;B("src",e.imageUrl,K)("alt",e.title)}}function Pt(t,n){if(t&1&&(r(0,"div",57)(1,"span",58),d(2),l(),r(3,"div",59),_(4,Et,1,2,"img",17),l(),r(5,"div",60)(6,"p",61),d(7),l(),r(8,"p",62),d(9),l()(),r(10,"span",63),d(11),l()()),t&2){let e=n.$implicit,i=n.$index,o=c(4);y("bg-accent-qobuz/10",i===o.playerState.queueIndex())("hover:bg-bg-card",i!==o.playerState.queueIndex()),a(2),P(i+1),a(2),x(e.imageUrl?4:-1),a(2),y("text-accent-qobuz",i===o.playerState.queueIndex()),a(),S(" ",e.title," "),a(2),P(e.artist),a(2),P(o.formatDuration(e.duration))}}function Mt(t,n){if(t&1&&(r(0,"div",53),H(1,Pt,12,11,"div",56,dt),l()),t&2){let e=c(3);a(),N(e.playerState.queue())}}function Tt(t,n){if(t&1&&(r(0,"div",15),_(1,kt,5,0,"div",52)(2,Mt,3,0,"div",53),l()),t&2){let e=c(2);a(),x(e.playerState.queue().length===0?1:2)}}function Vt(t,n){if(t&1){let e=C();r(0,"div",6,2),b("touchstart",function(o){p(e);let v=c();return u(v.onTouchStart(o))})("touchmove",function(o){p(e);let v=c();return u(v.onTouchMove(o))})("touchend",function(){p(e);let o=c();return u(o.onTouchEnd())}),r(2,"div",7),b("mousedown",function(o){p(e);let v=c();return u(v.onDragStart(o))}),f(3,"div",8),l(),r(4,"div",9)(5,"button",10),b("click",function(){p(e);let o=c();return u(o.setTab("player"))}),d(6," Aktueller Titel "),_(7,pt,1,0,"div",11),l(),r(8,"button",10),b("click",function(){p(e);let o=c();return u(o.setTab("queue"))}),d(9," Warteschlange "),_(10,ut,2,1,"span",12),_(11,_t,1,0,"div",11),l()(),r(12,"div",13),_(13,St,43,11,"div",14)(14,Tt,3,1,"div",15),l()()}if(t&2){let e=c();D("transform",e.popupTransform()),a(5),y("text-accent-qobuz",e.activeTab()==="player")("text-text-muted",e.activeTab()!=="player"),a(2),x(e.activeTab()==="player"?7:-1),a(),y("text-accent-qobuz",e.activeTab()==="queue")("text-text-muted",e.activeTab()!=="queue"),a(2),x(e.playerState.queue().length>0?10:-1),a(),x(e.activeTab()==="queue"?11:-1),a(2),x(e.activeTab()==="player"?13:14)}}var W=class t{popupPanel;qualitySelector;playerSelector;playerState=h(V);playback=h(I);router=h(R);activeTab=M("player");isClosing=M(!1);touchStartY=0;currentDragY=0;dragOffset=M(0);coverImage=z(()=>{let n=this.playerState.playbackStatus(),e=this.playerState.currentTrack();return n?.imageUrl||e?.album?.image?.large});trackTitle=z(()=>{let n=this.playerState.playbackStatus(),e=this.playerState.currentTrack();return n?.title||e?.title});artistName=z(()=>{let n=this.playerState.playbackStatus(),e=this.playerState.currentTrack();return n?.artist||e?.performer?.name});artistId=z(()=>{let n=this.playerState.playbackStatus(),e=this.playerState.currentTrack();return n?.artistId||e?.performer?.id});albumTitle=z(()=>{let n=this.playerState.playbackStatus(),e=this.playerState.currentTrack();return n?.album||e?.album?.title});popupTransform=z(()=>{if(this.isClosing())return"translateY(100%)";let n=this.dragOffset();return n>0?`translateY(${n}px)`:"translateY(0)"});setTab(n){this.activeTab.set(n)}close(){this.isClosing.set(!0),setTimeout(()=>{this.playerState.hideNowPlaying(),this.isClosing.set(!1),this.dragOffset.set(0)},300)}onTouchStart(n){this.touchStartY=n.touches[0].clientY,this.currentDragY=0}onTouchMove(n){let i=n.touches[0].clientY-this.touchStartY;i>0&&(this.currentDragY=i,this.dragOffset.set(i))}onTouchEnd(){this.currentDragY>100?this.close():this.dragOffset.set(0),this.currentDragY=0}onDragStart(n){n.preventDefault(),this.touchStartY=n.clientY;let e=o=>{let v=o.clientY-this.touchStartY;v>0&&(this.currentDragY=v,this.dragOffset.set(v))},i=()=>{this.currentDragY>100?this.close():this.dragOffset.set(0),this.currentDragY=0,document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",i)}togglePlayPause(){this.playback.togglePlayPause()}skipPrevious(){this.playback.skipPrevious()}skipNext(){this.playback.skipNext()}async seekTo(n){let i=n.currentTarget.getBoundingClientRect(),o=(n.clientX-i.left)/i.width*100;await this.playback.seekToPercent(o)}formatDuration=Pe;openQualitySelector(){this.qualitySelector.open()}openPlayerSelector(){this.playerSelector.open()}onEscapeKey(){this.playerState.isNowPlayingVisible()&&this.close()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=T({type:t,selectors:[["app-now-playing-popup"]],viewQuery:function(e,i){if(e&1&&$(rt,5)(lt,5)(st,5),e&2){let o;j(o=O())&&(i.popupPanel=o.first),j(o=O())&&(i.qualitySelector=o.first),j(o=O())&&(i.playerSelector=o.first)}},hostBindings:function(e,i){e&1&&b("keydown.escape",function(){return i.onEscapeKey()},q)},decls:6,vars:2,consts:[["qualitySelector",""],["playerSelector",""],["popupPanel",""],[1,"fixed","inset-0","bg-black/60","z-[100]","transition-opacity","duration-300",3,"opacity-100","opacity-0"],[1,"fixed","left-0","right-0","bottom-0","bg-bg-primary","rounded-t-3xl","z-[101]","max-h-[90vh]","overflow-hidden","flex","flex-col","transition-transform","duration-300","ease-out","safe-area-bottom",3,"transform"],[1,"fixed","inset-0","bg-black/60","z-[100]","transition-opacity","duration-300",3,"click"],[1,"fixed","left-0","right-0","bottom-0","bg-bg-primary","rounded-t-3xl","z-[101]","max-h-[90vh]","overflow-hidden","flex","flex-col","transition-transform","duration-300","ease-out","safe-area-bottom",3,"touchstart","touchmove","touchend"],[1,"flex","justify-center","py-3","cursor-grab",3,"mousedown"],[1,"w-10","h-1","bg-text-muted/30","rounded-full"],[1,"flex","border-b","border-border-subtle","px-4"],[1,"flex-1","py-3","text-sm","font-medium","transition-colors","relative",3,"click"],[1,"absolute","bottom-0","left-0","right-0","h-0.5","bg-accent-qobuz"],[1,"ml-1","px-1.5","py-0.5","bg-accent-qobuz/10","text-accent-qobuz","text-xs","rounded"],[1,"flex-1","overflow-y-auto"],[1,"p-6","flex","flex-col","items-center"],[1,"p-4"],[1,"w-64","h-64","md:w-80","md:h-80","rounded-xl","overflow-hidden","bg-bg-secondary","shadow-2xl","mb-6"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","flex","items-center","justify-center","text-text-muted"],[1,"text-center","mb-6","w-full","max-w-md"],[1,"text-xl","font-bold","truncate","mb-1"],[1,"text-text-secondary","hover:text-accent-qobuz","transition-colors",3,"routerLink"],[1,"text-text-secondary"],[1,"text-sm","text-text-muted","mt-1","truncate"],[1,"w-full","max-w-md","mb-4"],[1,"h-1.5","bg-bg-secondary","rounded-full","cursor-pointer","group",3,"click"],[1,"h-full","bg-accent-qobuz","rounded-full","relative","transition-all"],[1,"absolute","right-0","top-1/2","-translate-y-1/2","w-4","h-4","bg-white","rounded-full","shadow-lg","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"flex","justify-between","mt-2","text-xs","text-text-muted"],[1,"flex","items-center","justify-center","gap-6","mb-6"],[1,"w-10","h-10","text-text-muted","hover:text-text-primary","transition-colors"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","mx-auto"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"w-12","h-12","text-text-primary","hover:text-accent-qobuz","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","mx-auto"],["d","M6 6h2v12H6V6zm3.5 6l8.5 6V6l-8.5 6z"],[1,"w-16","h-16","rounded-full","bg-accent-qobuz","text-white","flex","items-center","justify-center","hover:opacity-90","transition-opacity","shadow-lg",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24",1,"w-8","h-8"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","ml-1"],["d","M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"],[1,"flex","items-center","gap-4","text-sm"],[1,"flex","items-center","gap-2","px-3","py-1.5","bg-accent-qobuz/10","text-accent-qobuz","rounded-lg","hover:bg-accent-qobuz/20","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"],[1,"flex","items-center","gap-2","text-text-muted","hover:text-text-primary","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-24","h-24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"],[1,"text-text-secondary","hover:text-accent-qobuz","transition-colors",3,"click","routerLink"],["d","M6 4h4v16H6V4zm8 0h4v16h-4V4z"],["d","M8 5v14l11-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"],[1,"text-center","py-12","text-text-muted"],[1,"space-y-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-12","h-12","mx-auto","mb-4","opacity-50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"],[1,"flex","items-center","gap-3","p-3","rounded-lg","transition-colors",3,"bg-accent-qobuz/10","hover:bg-bg-card"],[1,"flex","items-center","gap-3","p-3","rounded-lg","transition-colors"],[1,"w-6","text-center","text-sm","text-text-muted"],[1,"w-10","h-10","rounded","bg-bg-secondary","overflow-hidden","flex-shrink-0"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","truncate"],[1,"text-xs","text-text-muted","truncate"],[1,"text-sm","text-text-muted"]],template:function(e,i){e&1&&(_(0,mt,1,4,"div",3),_(1,Vt,15,14,"div",4),f(2,"app-quality-selector",null,0)(4,"app-player-selector",null,1)),e&2&&(x(i.playerState.isNowPlayingVisible()?0:-1),a(),x(i.playerState.isNowPlayingVisible()?1:-1))},dependencies:[L,oe,X,A],styles:[".safe-area-bottom[_ngcontent-%COMP%]{padding-bottom:env(safe-area-inset-bottom,0)}"]})};var zt=t=>({exact:t}),Lt=()=>[],Ht=(t,n)=>n.route,Nt=(t,n)=>n.id;function qt(t,n){if(t&1){let e=C();r(0,"div",5),b("click",function(){p(e);let o=c();return u(o.close())}),l()}if(t&2){let e=c();y("opacity-100",!e.isClosing())("opacity-0",e.isClosing())}}function Dt(t,n){if(t&1){let e=C();r(0,"a",13),b("click",function(){p(e);let o=c(3);return u(o.close())}),f(1,"span",14),r(2,"span"),d(3),l()()}if(t&2){let e=c().$implicit;B("routerLink",e.route)("routerLinkActiveOptions",ie(4,zt,e.route==="/")),a(),B("innerHTML",e.icon,te),a(2),P(e.label)}}function Bt(t,n){if(t&1&&_(0,Dt,4,6,"a",12),t&2){let e=n.$implicit,i=c(2);x(!e.requiresAuth||i.auth.isLoggedIn()?0:-1)}}function It(t,n){if(t&1&&(r(0,"option",26),d(1),l()),t&2){let e,i=n.$implicit,o=c(4);B("value",i.id)("selected",i.userId===((e=o.auth.user())==null?null:e.id)),a(),S(" ",i.name," ")}}function jt(t,n){if(t&1){let e=C();r(0,"div",20)(1,"label",24),d(2,"Profil wechseln"),l(),r(3,"select",25),b("change",function(o){p(e);let v=c(3);return u(v.onProfileChange(o))}),H(4,It,2,3,"option",26,Nt),l()()}if(t&2){let e=c(3);a(4),N(e.auth.profiles())}}function Ot(t,n){if(t&1){let e=C();r(0,"div",11)(1,"div",15)(2,"div",16),d(3),l(),r(4,"div",17)(5,"p",18),d(6),l(),r(7,"p",19),d(8),l()()(),_(9,jt,6,0,"div",20),r(10,"button",21),b("click",function(){p(e);let o=c(2);return u(o.logout())}),g(),r(11,"svg",22),f(12,"path",23),l(),d(13," Abmelden "),l()()}if(t&2){let e,i,o,v=c(2);a(3),S(" ",((e=v.auth.user())==null||e.display_name==null||(e=e.display_name.charAt(0))==null?null:e.toUpperCase())||"Q"," "),a(3),P(((i=v.auth.user())==null?null:i.display_name)||"Qobuz User"),a(2),P((o=v.auth.user())==null?null:o.email),a(),x((v.auth.profiles()||ve(4,Lt)).length>1?9:-1)}}function Ft(t,n){if(t&1){let e=C();r(0,"div",11)(1,"a",27),b("click",function(){p(e);let o=c(2);return u(o.close())}),d(2," Bei Qobuz anmelden "),l()()}}function Gt(t,n){if(t&1&&(r(0,"nav",6)(1,"div",7)(2,"h1",8),d(3,"Bluesound"),l(),r(4,"p",9),d(5,"Web Controller"),l()(),r(6,"div",10),H(7,Bt,1,1,null,null,Ht),l(),_(9,Ot,14,5,"div",11)(10,Ft,3,0,"div",11),l()),t&2){let e=c();y("translate-x-0",!e.isClosing())("-translate-x-full",e.isClosing()),a(7),N(e.menuItems),a(2),x(e.auth.isLoggedIn()?9:10)}}var Z=class t{auth=h(F);router=h(R);isOpen=M(!1);isClosing=M(!1);menuItems=[{label:"Home",route:"/",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg>'},{label:"Qobuz",route:"/qobuz/browse",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" /></svg>',requiresAuth:!0},{label:"TuneIn",route:"/tunein",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.636 18.364a9 9 0 010-12.728m12.728 0a9 9 0 010 12.728m-9.9-2.829a5 5 0 010-7.07m7.072 0a5 5 0 010 7.07M13 12a1 1 0 11-2 0 1 1 0 012 0z" /></svg>'},{label:"Radio Paradise",route:"/radioparadise",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" /></svg>'},{label:"Ger\xE4te",route:"/players",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>'},{label:"Einstellungen",route:"/settings",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><circle cx="12" cy="12" r="3" stroke-width="2"/><path stroke-width="2" d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/></svg>'}];toggle(){this.isOpen()?this.close():this.isOpen.set(!0)}close(){this.isClosing.set(!0),setTimeout(()=>{this.isOpen.set(!1),this.isClosing.set(!1)},300)}onProfileChange(n){let i=n.target.value;this.auth.switchProfile(i)}logout(){this.auth.logout(),this.close(),this.router.navigate(["/"])}onEscapeKey(){this.isOpen()&&this.close()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=T({type:t,selectors:[["app-hamburger-menu"]],hostBindings:function(e,i){e&1&&b("keydown.escape",function(){return i.onEscapeKey()},q)},decls:7,vars:14,consts:[[1,"hamburger-btn","fixed","top-4","left-4","z-[60]","w-10","h-10","rounded-lg","bg-bg-card","border","border-border-subtle","flex","items-center","justify-center","hover:bg-bg-card-hover","transition-colors",3,"click"],[1,"hamburger-lines","w-5","h-4","relative","flex","flex-col","justify-between"],[1,"block","h-0.5","w-full","bg-text-primary","rounded","transition-all","duration-300"],[1,"fixed","inset-0","bg-black/50","z-[55]","transition-opacity","duration-300",3,"opacity-100","opacity-0"],[1,"fixed","top-0","left-0","bottom-0","w-72","max-w-[80vw]","bg-bg-primary","z-[56]","shadow-2xl","transition-transform","duration-300","ease-out","flex","flex-col","safe-area-left",3,"translate-x-0","-translate-x-full"],[1,"fixed","inset-0","bg-black/50","z-[55]","transition-opacity","duration-300",3,"click"],[1,"fixed","top-0","left-0","bottom-0","w-72","max-w-[80vw]","bg-bg-primary","z-[56]","shadow-2xl","transition-transform","duration-300","ease-out","flex","flex-col","safe-area-left"],[1,"p-6","pt-20","border-b","border-border-subtle"],[1,"text-xl","font-bold","text-text-primary"],[1,"text-sm","text-text-muted","mt-1"],[1,"flex-1","overflow-y-auto","py-4"],[1,"border-t","border-border-subtle","p-4"],["routerLinkActive","bg-accent-qobuz/10 text-accent-qobuz border-r-2 border-accent-qobuz",1,"flex","items-center","gap-4","px-6","py-3","text-text-secondary","hover:bg-bg-card","transition-colors",3,"routerLink","routerLinkActiveOptions"],["routerLinkActive","bg-accent-qobuz/10 text-accent-qobuz border-r-2 border-accent-qobuz",1,"flex","items-center","gap-4","px-6","py-3","text-text-secondary","hover:bg-bg-card","transition-colors",3,"click","routerLink","routerLinkActiveOptions"],[1,"w-6","h-6",3,"innerHTML"],[1,"flex","items-center","gap-3","mb-3"],[1,"w-10","h-10","rounded-full","bg-accent-qobuz/20","flex","items-center","justify-center","text-accent-qobuz","font-semibold"],[1,"flex-1","min-w-0"],[1,"font-medium","truncate"],[1,"text-xs","text-text-muted"],[1,"mb-3"],[1,"w-full","px-4","py-2","text-sm","text-text-muted","hover:text-error","hover:bg-error/10","rounded-lg","transition-colors","flex","items-center","justify-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"text-xs","text-text-muted","mb-1","block"],[1,"w-full","px-3","py-2","bg-bg-card","border","border-border-subtle","rounded-lg","text-sm",3,"change"],[3,"value","selected"],["routerLink","/qobuz/login",1,"block","w-full","px-4","py-3","bg-accent-qobuz","text-white","text-center","rounded-lg","font-medium","hover:opacity-90","transition-opacity",3,"click"]],template:function(e,i){e&1&&(r(0,"button",0),b("click",function(){return i.toggle()}),r(1,"div",1),f(2,"span",2)(3,"span",2)(4,"span",2),l()(),_(5,qt,1,4,"div",3),_(6,Gt,11,5,"nav",4)),e&2&&(y("is-open",i.isOpen()),a(2),y("rotate-45",i.isOpen())("translate-y-[7px]",i.isOpen()),a(),y("opacity-0",i.isOpen()),a(),y("-rotate-45",i.isOpen())("-translate-y-[7px]",i.isOpen()),a(),x(i.isOpen()?5:-1),a(),x(i.isOpen()?6:-1))},dependencies:[L,oe,we],styles:[".safe-area-left[_ngcontent-%COMP%]{padding-left:env(safe-area-inset-left,0)}"]})};var At=(t,n)=>n.id;function Qt(t,n){if(t&1){let e=C();s(0,"div",7)(1,"span",8),d(2),m(),s(3,"button",9),E("click",function(){let o=p(e).$implicit,v=c(2);return u(v.executeAction(o))}),w(4,"span",10),m()()}if(t&2){let e=n.$implicit,i=n.$index;D("animation-delay",i*50+"ms"),a(2),S(" ",e.label," "),a(),fe(e.color||"bg-bg-card text-text-primary"),a(),ne("innerHTML",e.icon,te)}}function $t(t,n){if(t&1&&(s(0,"div",1),H(1,Qt,5,6,"div",6,At),m()),t&2){let e=c();a(),N(e.visibleActions())}}function Rt(t,n){if(t&1){let e=C();s(0,"div",11),E("click",function(){p(e);let o=c();return u(o.close())}),m()}}var J=class t{router=h(R);playerState=h(V);auth=h(F);isOpen=M(!1);fabBottom=z(()=>"calc(100px + env(safe-area-inset-bottom, 0px))");allActions=[{id:"search",label:"Suchen",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>',action:()=>this.router.navigate(["/qobuz/search"]),color:"bg-accent-qobuz text-white"},{id:"volume",label:"Lautst\xE4rke",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" /></svg>',action:()=>this.playerState.isVolumePanelVisible.set(!0)},{id:"quality",label:"Qualit\xE4t",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" /></svg>',action:()=>this.showQualitySelector()},{id:"player",label:"Ger\xE4t w\xE4hlen",icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>',action:()=>this.router.navigate(["/players"])}];visibleActions=z(()=>this.auth.isLoggedIn()?this.allActions:this.allActions.filter(n=>n.id==="player"));toggle(){this.isOpen.update(n=>!n)}close(){this.isOpen.set(!1)}executeAction(n){n.action(),this.close()}showQualitySelector(){}onEscapeKey(){this.isOpen()&&this.close()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=T({type:t,selectors:[["app-fab-menu"]],hostBindings:function(e,i){e&1&&b("keydown.escape",function(){return i.onEscapeKey()},q)},decls:6,vars:6,consts:[[1,"fixed","right-4","z-40","transition-all","duration-300"],[1,"flex","flex-col-reverse","items-end","gap-3","mb-3"],[1,"w-14","h-14","rounded-full","bg-accent-qobuz","text-white","shadow-xl","flex","items-center","justify-center","transition-all","duration-300","hover:shadow-2xl",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-7","h-7","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"fixed","inset-0","bg-black/30","z-30"],[1,"flex","items-center","gap-3","animate-fab-item",3,"animation-delay"],[1,"flex","items-center","gap-3","animate-fab-item"],[1,"px-3","py-1.5","bg-bg-card","rounded-lg","text-sm","font-medium","shadow-lg","whitespace-nowrap"],[1,"w-12","h-12","rounded-full","shadow-lg","flex","items-center","justify-center","transition-transform","hover:scale-110",3,"click"],[1,"w-6","h-6",3,"innerHTML"],[1,"fixed","inset-0","bg-black/30","z-30",3,"click"]],template:function(e,i){e&1&&(s(0,"div",0),_(1,$t,3,0,"div",1),s(2,"button",2),E("click",function(){return i.toggle()}),g(),s(3,"svg",3),w(4,"path",4),m()()(),_(5,Rt,1,0,"div",5)),e&2&&(D("bottom",i.fabBottom()),a(),x(i.isOpen()?1:-1),a(),y("rotate-45",i.isOpen()),a(3),x(i.isOpen()?5:-1))},dependencies:[L],styles:["@keyframes _ngcontent-%COMP%_fab-item-enter{0%{opacity:0;transform:translateY(10px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.animate-fab-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fab-item-enter .2s ease-out forwards;opacity:0}"]})};var Yt=["sliderTrack"];function Kt(t,n){t&1&&(s(0,"div",8),g(),s(1,"svg",11),w(2,"path",12),m(),k(),s(3,"p",13),d(4,"Fixed Volume"),m(),s(5,"p",14),d(6,"Die Lautst\xE4rke wird extern gesteuert"),m()())}function Ut(t,n){t&1&&(g(),s(0,"svg",6),w(1,"path",26)(2,"path",27),m())}function Xt(t,n){t&1&&(g(),s(0,"svg",6),w(1,"path",28),m())}function Wt(t,n){if(t&1){let e=C();s(0,"button",29),E("click",function(){let o=p(e).$implicit,v=c(3);return u(v.setVolume(o))}),d(1),m()}if(t&2){let e=n.$implicit,i=c(3);y("bg-accent-qobuz",i.playerState.volume()===e)("text-white",i.playerState.volume()===e)("bg-bg-card",i.playerState.volume()!==e)("text-text-secondary",i.playerState.volume()!==e)("hover:bg-bg-card-hover",i.playerState.volume()!==e),a(),S(" ",e,"% ")}}function Zt(t,n){if(t&1){let e=C();s(0,"div",15)(1,"div",16)(2,"button",17),E("click",function(){p(e);let o=c(2);return u(o.toggleMute())}),_(3,Ut,3,0,":svg:svg",6)(4,Xt,2,0,":svg:svg",6),m(),s(5,"span",18),d(6),m(),s(7,"span",19),d(8,"%"),m()(),s(9,"div",20,0),E("mousedown",function(o){p(e);let v=c(2);return u(v.onSliderStart(o))})("touchstart",function(o){p(e);let v=c(2);return u(v.onTouchStart(o))}),w(11,"div",21)(12,"div",22)(13,"div",23),m()(),s(14,"div",24),H(15,Wt,2,11,"button",25,ge),m()}if(t&2){let e=c(2);a(3),x(e.playerState.isMuted()||e.playerState.volume()===0?3:4),a(3),S(" ",e.playerState.isMuted()?0:e.playerState.volume()," "),a(6),D("width",e.playerState.isMuted()?0:e.playerState.volume(),"%"),a(),D("left",e.playerState.isMuted()?0:e.playerState.volume(),"%"),a(2),N(e.presets)}}function Jt(t,n){t&1&&(s(0,"span",10),g(),s(1,"svg",30),w(2,"path",31),m(),d(3," Browser-Wiedergabe "),m())}function en(t,n){if(t&1&&(s(0,"span",10),g(),s(1,"svg",32),w(2,"path",33),m(),d(3),m()),t&2){let e,i=c(2);a(3),S(" ",(e=i.playerState.selectedPlayer())==null?null:e.name," ")}}function tn(t,n){if(t&1){let e=C();s(0,"div",1),E("click",function(){p(e);let o=c();return u(o.close())}),m(),s(1,"div",2),E("click",function(o){return p(e),u(o.stopPropagation())}),s(2,"div",3)(3,"h3",4),d(4,"Lautst\xE4rke"),m(),s(5,"button",5),E("click",function(){p(e);let o=c();return u(o.close())}),g(),s(6,"svg",6),w(7,"path",7),m()()(),_(8,Kt,7,0,"div",8)(9,Zt,17,6),k(),s(10,"div",9),_(11,Jt,4,0,"span",10)(12,en,4,1,"span",10),m()()}if(t&2){let e=c();a(8),x(e.playerState.isFixedVolume()?8:9),a(3),x(e.playerState.playerMode()==="browser"?11:e.playerState.selectedPlayer()?12:-1)}}var ee=class t{sliderTrack;playerState=h(V);playback=h(I);presets=[25,50,75,100];isDragging=!1;close(){this.playerState.isVolumePanelVisible.set(!1)}toggleMute(){this.playback.toggleMute()}setVolume(n){this.playback.setVolume(n)}onSliderStart(n){this.isDragging=!0,this.updateVolumeFromEvent(n);let e=o=>{this.isDragging&&this.updateVolumeFromEvent(o)},i=()=>{this.isDragging=!1,document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",i)}onTouchStart(n){this.isDragging=!0,this.updateVolumeFromTouch(n);let e=o=>{this.isDragging&&(o.preventDefault(),this.updateVolumeFromTouch(o))},i=()=>{this.isDragging=!1,document.removeEventListener("touchmove",e),document.removeEventListener("touchend",i)};document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",i)}updateVolumeFromEvent(n){if(!this.sliderTrack)return;let i=this.sliderTrack.nativeElement.getBoundingClientRect(),o=Math.max(0,Math.min(100,(n.clientX-i.left)/i.width*100)),v=Math.round(o);this.playback.setVolume(v)}updateVolumeFromTouch(n){if(!this.sliderTrack||!n.touches[0])return;let i=this.sliderTrack.nativeElement.getBoundingClientRect(),o=Math.max(0,Math.min(100,(n.touches[0].clientX-i.left)/i.width*100)),v=Math.round(o);this.playback.setVolume(v)}onEscapeKey(){this.playerState.isVolumePanelVisible()&&this.close()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=T({type:t,selectors:[["app-volume-panel"]],viewQuery:function(e,i){if(e&1&&$(Yt,5),e&2){let o;j(o=O())&&(i.sliderTrack=o.first)}},hostBindings:function(e,i){e&1&&b("keydown.escape",function(){return i.onEscapeKey()},q)},decls:1,vars:1,consts:[["sliderTrack",""],[1,"fixed","inset-0","bg-black/40","z-[80]",3,"click"],[1,"fixed","bottom-0","left-0","right-0","bg-bg-primary","rounded-t-2xl","z-[81]","p-6","safe-area-bottom","animate-slide-up",3,"click"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-lg","font-semibold"],[1,"w-8","h-8","rounded-full","hover:bg-bg-card","flex","items-center","justify-center","text-text-muted","hover:text-text-primary","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"text-center","py-8","text-text-muted"],[1,"mt-6","pt-4","border-t","border-border-subtle","text-center","text-sm","text-text-muted"],[1,"flex","items-center","justify-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-12","h-12","mx-auto","mb-3","opacity-50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"],[1,"font-medium"],[1,"text-sm","mt-1"],[1,"mb-6"],[1,"flex","items-center","justify-center","gap-4","mb-4"],[1,"w-10","h-10","rounded-full","bg-bg-card","flex","items-center","justify-center","text-text-secondary","hover:text-text-primary","transition-colors",3,"click"],[1,"text-4xl","font-bold","tabular-nums","min-w-[80px]","text-center"],[1,"text-text-muted"],[1,"relative","h-12","flex","items-center","cursor-pointer","touch-none",3,"mousedown","touchstart"],[1,"absolute","inset-x-0","h-2","bg-bg-secondary","rounded-full"],[1,"absolute","left-0","h-2","bg-accent-qobuz","rounded-full","transition-all"],[1,"absolute","w-6","h-6","bg-white","rounded-full","shadow-lg","border-2","border-accent-qobuz","transition-all","-translate-x-1/2"],[1,"grid","grid-cols-4","gap-3"],[1,"py-3","rounded-lg","text-sm","font-medium","transition-colors",3,"bg-accent-qobuz","text-white","bg-bg-card","text-text-secondary","hover:bg-bg-card-hover"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"],[1,"py-3","rounded-lg","text-sm","font-medium","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","text-accent-qobuz"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"]],template:function(e,i){e&1&&_(0,tn,13,2),e&2&&x(i.playerState.isVolumePanelVisible()?0:-1)},dependencies:[L],styles:[".safe-area-bottom[_ngcontent-%COMP%]{padding-bottom:env(safe-area-inset-bottom,0)}@keyframes _ngcontent-%COMP%_slide-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}.animate-slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-up .3s ease-out}"]})};var le=class t{auth=h(F);playerState=h(V);polling=h(re);ngOnInit(){this.auth.authToken()&&this.auth.verifyToken().subscribe()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=T({type:t,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"app-container","min-h-screen","bg-bg-primary"],[1,"flex-1","pb-24","overflow-y-auto"]],template:function(e,i){e&1&&(r(0,"div",0),f(1,"app-hamburger-menu"),r(2,"main",1),f(3,"router-outlet"),l(),f(4,"app-global-player")(5,"app-now-playing-popup")(6,"app-fab-menu")(7,"app-volume-panel")(8,"app-global-context-menu"),l())},dependencies:[Ce,U,W,Z,J,ee,Me],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;height:100dvh;overflow:hidden}main[_ngcontent-%COMP%]{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch}"]})};be(le,ze).catch(t=>console.error(t));
