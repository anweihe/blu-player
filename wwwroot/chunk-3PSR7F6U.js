import{a as r,b as d,c as l,e as o}from"./chunk-TB3BYDLV.js";import{Ab as s,M as u,ha as t}from"./chunk-NJ7QWJ2J.js";var n=class i{selectedPlayer=t(null);players=t([]);playerMode=t("browser");playbackStatus=t(null);currentTrack=t(null);isPlaying=s(()=>{let e=this.playbackStatus();return e?r(e):!1});isPaused=s(()=>{let e=this.playbackStatus();return e?d(e):!1});isStopped=s(()=>{let e=this.playbackStatus();return e?l(e):!0});progress=t(0);duration=t(0);progressPercent=s(()=>{let e=this.duration(),a=this.progress();return e>0?a/e*100:0});formattedPosition=s(()=>o(this.progress())??"0:00");formattedDuration=s(()=>o(this.duration())??"0:00");volume=t(50);isMuted=t(!1);isFixedVolume=s(()=>this.selectedPlayer()?.isFixedVolume??!1);streamingQuality=t(27);qualityLabel=s(()=>{switch(this.streamingQuality()){case 5:return"MP3 320";case 6:return"CD (16-Bit)";case 7:return"Hi-Res (24-Bit/96kHz)";case 27:return"Hi-Res Max";default:return"Unknown"}});queue=t([]);queueIndex=t(0);isQueueVisible=t(!1);isNowPlayingVisible=t(!1);isVolumePanelVisible=t(!1);selectPlayer(e){this.selectedPlayer.set(e),e&&(this.playerMode.set("bluesound"),this.volume.set(e.isFixedVolume?100:e.volume))}useBrowserPlayback(){this.selectedPlayer.set(null),this.playerMode.set("browser")}updatePlaybackStatus(e){this.playbackStatus.set(e),e.currentSeconds!==void 0&&this.progress.set(e.currentSeconds),e.totalSeconds!==void 0&&this.duration.set(e.totalSeconds)}updateProgress(e){this.progress.set(e)}setVolume(e){this.volume.set(Math.max(0,Math.min(100,e))),e>0&&this.isMuted.set(!1)}toggleMute(){this.isMuted.update(e=>!e)}setStreamingQuality(e){this.streamingQuality.set(e)}toggleNowPlaying(){this.isNowPlayingVisible.update(e=>!e)}showNowPlaying(){this.isNowPlayingVisible.set(!0)}hideNowPlaying(){this.isNowPlayingVisible.set(!1)}toggleQueue(){this.isQueueVisible.update(e=>!e)}setQueue(e,a=0){this.queue.set(e),this.queueIndex.set(a)}clearQueue(){this.queue.set([]),this.queueIndex.set(0)}reset(){this.playbackStatus.set(null),this.currentTrack.set(null),this.progress.set(0),this.duration.set(0),this.queue.set([]),this.queueIndex.set(0)}static \u0275fac=function(a){return new(a||i)};static \u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"})};export{n as a};
